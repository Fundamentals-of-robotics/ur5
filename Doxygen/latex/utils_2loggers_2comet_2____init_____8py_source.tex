\doxysection{\+\_\+\+\_\+init\+\_\+\+\_\+.\+py}
\hypertarget{utils_2loggers_2comet_2____init_____8py_source}{}\label{utils_2loggers_2comet_2____init_____8py_source}\index{C:/Users/dorij/OneDrive/Desktop/ur5/vision/yolo/utils/loggers/comet/\_\_init\_\_.py@{C:/Users/dorij/OneDrive/Desktop/ur5/vision/yolo/utils/loggers/comet/\_\_init\_\_.py}}
\mbox{\hyperlink{utils_2loggers_2comet_2____init_____8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00001}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet}{00001}}\ \textcolor{keyword}{import}\ glob}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00002}00002\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00003}00003\ \textcolor{keyword}{import}\ logging}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00004}00004\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00005}00005\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00006}00006\ \textcolor{keyword}{from}\ pathlib\ \textcolor{keyword}{import}\ Path}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00008}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_aed3090bd061d0558eb9d3141568babb3}{00008}}\ logger\ =\ logging.getLogger(\_\_name\_\_)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00010}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a0c6590e43054175ff18dfb39d1d62fff}{00010}}\ FILE\ =\ Path(\_\_file\_\_).resolve()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00011}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_acaab4111e28bbd77b729bdce773f6434}{00011}}\ ROOT\ =\ FILE.parents[3]\ \ \textcolor{comment}{\#\ YOLOv5\ root\ directory}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00012}00012\ \textcolor{keywordflow}{if}\ str(ROOT)\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ sys.path:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00013}00013\ \ \ \ \ sys.path.append(str(ROOT))\ \ \textcolor{comment}{\#\ add\ ROOT\ to\ PATH}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00015}00015\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{import}\ comet\_ml}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00018}00018\ \ \ \ \ \textcolor{comment}{\#\ Project\ Configuration}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00019}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a7e691fb49a452b2a39066526a6923a73}{00019}}\ \ \ \ \ config\ =\ comet\_ml.config.get\_config()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00020}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a6b26e6492e8d2b0b42480073efd22aef}{00020}}\ \ \ \ \ COMET\_PROJECT\_NAME\ =\ config.get\_string(os.getenv(\textcolor{stringliteral}{"{}COMET\_PROJECT\_NAME"{}}),\ \textcolor{stringliteral}{"{}comet.project\_name"{}},\ default=\textcolor{stringliteral}{"{}yolov5"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00021}00021\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00022}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_aef60b830b52dc4af9d178e0baceb9c8d}{00022}}\ \ \ \ \ comet\_ml\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00023}00023\ \ \ \ \ COMET\_PROJECT\_NAME\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00025}00025\ \textcolor{keyword}{import}\ PIL}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00026}00026\ \textcolor{keyword}{import}\ torch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00027}00027\ \textcolor{keyword}{import}\ torchvision.transforms\ \textcolor{keyword}{as}\ T}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00028}00028\ \textcolor{keyword}{import}\ yaml}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00030}00030\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1dataloaders}{utils.dataloaders}}\ \textcolor{keyword}{import}\ img2label\_paths}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00031}00031\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1general}{utils.general}}\ \textcolor{keyword}{import}\ check\_dataset,\ scale\_boxes,\ xywh2xyxy}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00032}00032\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1metrics}{utils.metrics}}\ \textcolor{keyword}{import}\ box\_iou}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00034}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a71db0eb7b504e556394982f0058423b7}{00034}}\ COMET\_PREFIX\ =\ \textcolor{stringliteral}{"{}comet://"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00036}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_ac4331f1df883553ec4c77c25f15665c4}{00036}}\ COMET\_MODE\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_MODE"{}},\ \textcolor{stringliteral}{"{}online"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00038}00038\ \textcolor{comment}{\#\ Model\ Saving\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00039}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a4caaedf725624d76b44359a96bcbd9ab}{00039}}\ COMET\_MODEL\_NAME\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_MODEL\_NAME"{}},\ \textcolor{stringliteral}{"{}yolov5"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00041}00041\ \textcolor{comment}{\#\ Dataset\ Artifact\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00042}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a0901ae35a3d61d2a6c157ccc18bc2c5c}{00042}}\ COMET\_UPLOAD\_DATASET\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_UPLOAD\_DATASET"{}},\ \textcolor{stringliteral}{"{}false"{}}).lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00044}00044\ \textcolor{comment}{\#\ Evaluation\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00045}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a1034be425c6a1ceed83558f503c57af5}{00045}}\ COMET\_LOG\_CONFUSION\_MATRIX\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_LOG\_CONFUSION\_MATRIX"{}},\ \textcolor{stringliteral}{"{}true"{}}).lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00046}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_ab02e66d9d6d8e717e9aabaabbc91fadb}{00046}}\ COMET\_LOG\_PREDICTIONS\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_LOG\_PREDICTIONS"{}},\ \textcolor{stringliteral}{"{}true"{}}).lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00047}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a193068f4598efa8b73dcbeb83939e683}{00047}}\ COMET\_MAX\_IMAGE\_UPLOADS\ =\ int(os.getenv(\textcolor{stringliteral}{"{}COMET\_MAX\_IMAGE\_UPLOADS"{}},\ 100))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00049}00049\ \textcolor{comment}{\#\ Confusion\ Matrix\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00050}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_ab50573cb53c6a0ee4f6c8c0f5b68f5bd}{00050}}\ CONF\_THRES\ =\ float(os.getenv(\textcolor{stringliteral}{"{}CONF\_THRES"{}},\ 0.001))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00051}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a33409a1cf00ea8e58f278a3bb6c4d6a5}{00051}}\ IOU\_THRES\ =\ float(os.getenv(\textcolor{stringliteral}{"{}IOU\_THRES"{}},\ 0.6))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00053}00053\ \textcolor{comment}{\#\ Batch\ Logging\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00054}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_afad947038867b0bbfa200b50c2d5fe0b}{00054}}\ COMET\_LOG\_BATCH\_METRICS\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_LOG\_BATCH\_METRICS"{}},\ \textcolor{stringliteral}{"{}false"{}}).lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00055}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_add875288ba9a73552c806a2503744edd}{00055}}\ COMET\_BATCH\_LOGGING\_INTERVAL\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_BATCH\_LOGGING\_INTERVAL"{}},\ 1)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00056}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a1740b5d533991c93d5709f476fc59146}{00056}}\ COMET\_PREDICTION\_LOGGING\_INTERVAL\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_PREDICTION\_LOGGING\_INTERVAL"{}},\ 1)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00057}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a8f57fd05f3be3a21261191bcb5d5dbc2}{00057}}\ COMET\_LOG\_PER\_CLASS\_METRICS\ =\ os.getenv(\textcolor{stringliteral}{"{}COMET\_LOG\_PER\_CLASS\_METRICS"{}},\ \textcolor{stringliteral}{"{}false"{}}).lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00059}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a4e2ca557c808a6221762f1783ff888eb}{00059}}\ RANK\ =\ int(os.getenv(\textcolor{stringliteral}{"{}RANK"{}},\ -\/1))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00061}\mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet_a50a3daae7ce19eb3b8f4712b83503e2c}{00061}}\ to\_pil\ =\ T.ToPILImage()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00064}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger}{00064}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger}{CometLogger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00065}00065\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Log\ metrics,\ parameters,\ source\ code,\ models\ and\ much\ more\ with\ Comet."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00067}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a77fe3bdb7912c7ef1ac85b4a1dfdee7e}{00067}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a77fe3bdb7912c7ef1ac85b4a1dfdee7e}{\_\_init\_\_}}(self,\ opt,\ hyp,\ run\_id=None,\ job\_type="{}Training"{},\ **experiment\_kwargs)\ -\/>\ None:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00068}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa4c052e69df6c20232683fd10076486f}{00068}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa4c052e69df6c20232683fd10076486f}{job\_type}}\ =\ job\_type}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00069}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{00069}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}\ =\ opt}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00070}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aad87960810101db4cd1c8c3e67578e49}{00070}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aad87960810101db4cd1c8c3e67578e49}{hyp}}\ =\ hyp}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Comet\ Flags}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00073}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adc5d671c2bac9633c13460c9105400af}{00073}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adc5d671c2bac9633c13460c9105400af}{comet\_mode}}\ =\ COMET\_MODE}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00075}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0a7ac5019cb9ee0ac1b95d88cb223c61}{00075}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0a7ac5019cb9ee0ac1b95d88cb223c61}{save\_model}}\ =\ opt.save\_period\ >\ -\/1}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00076}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a38b9dd166521e3f73cf6e3c7fd496777}{00076}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a38b9dd166521e3f73cf6e3c7fd496777}{model\_name}}\ =\ COMET\_MODEL\_NAME}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Batch\ Logging\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00079}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aec716976650ca513c3e6741f1bcb51bc}{00079}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aec716976650ca513c3e6741f1bcb51bc}{log\_batch\_metrics}}\ =\ COMET\_LOG\_BATCH\_METRICS}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00080}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a964e31e2a4b73eb96d69d094a34556be}{00080}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a964e31e2a4b73eb96d69d094a34556be}{comet\_log\_batch\_interval}}\ =\ COMET\_BATCH\_LOGGING\_INTERVAL}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Dataset\ Artifact\ Settings}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00083}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1a6ebef670513e8efb9d544e66ec7d37}{00083}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1a6ebef670513e8efb9d544e66ec7d37}{upload\_dataset}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.upload\_dataset\ \textcolor{keywordflow}{or}\ COMET\_UPLOAD\_DATASET}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00084}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab407004f6fb68532a050f2128adb47f4}{00084}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab407004f6fb68532a050f2128adb47f4}{resume}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.resume}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Default\ parameters\ to\ pass\ to\ Experiment\ objects}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00087}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{00087}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}}\ =\ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}log\_code"{}}:\ \textcolor{keyword}{False},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}log\_env\_gpu"{}}:\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}log\_env\_cpu"{}}:\ \textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}project\_name"{}}:\ COMET\_PROJECT\_NAME,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00093}00093\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}}.update(experiment\_kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00094}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{00094}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0e763b1fc17be22be2000663c03e42cb}{\_get\_experiment}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adc5d671c2bac9633c13460c9105400af}{comet\_mode}},\ run\_id)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00095}00095\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.set\_name(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.name)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00097}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{00097}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0bae99a216c86ab2968a7490be31e0db}{check\_dataset}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.data)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00098}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa6244112b4146a90f69ab4d09ca89648}{00098}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa6244112b4146a90f69ab4d09ca89648}{class\_names}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}[\textcolor{stringliteral}{"{}names"{}}]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00099}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a27518d6e667eeb93f616c100ced3d4e5}{00099}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a27518d6e667eeb93f616c100ced3d4e5}{num\_classes}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}[\textcolor{stringliteral}{"{}nc"{}}]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00101}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2e7934fe3f517a54e2b75bc6d0e50632}{00101}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2e7934fe3f517a54e2b75bc6d0e50632}{logged\_images\_count}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00102}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a906bac84a113731f0532fe32900c0f34}{00102}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a906bac84a113731f0532fe32900c0f34}{max\_images}}\ =\ COMET\_MAX\_IMAGE\_UPLOADS}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ run\_id\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}Created\ from"{}},\ \textcolor{stringliteral}{"{}YOLOv5"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}},\ comet\_ml.OfflineExperiment):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ workspace,\ project\_name,\ experiment\_id\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.url.split(\textcolor{stringliteral}{"{}/"{}})[-\/3:]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Run\ Path"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{workspace\}/\{project\_name\}/\{experiment\_id\}"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(vars(opt))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.hyp)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af10add0e07581ebbffb26cbe51a5ea26}{log\_asset\_data}}(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.hyp,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ name=\textcolor{stringliteral}{"{}hyperparameters.json"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}hyp-\/config-\/file"{}}\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{self.opt.save\_dir\}/opt.yaml"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}opt-\/config-\/file"{}}\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00124}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a3f97f7b94074baabd4904e169889feae}{00124}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a3f97f7b94074baabd4904e169889feae}{comet\_log\_confusion\_matrix}}\ =\ COMET\_LOG\_CONFUSION\_MATRIX}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}},\ \textcolor{stringliteral}{"{}conf\_thres"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00127}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af5d47c3599434e1aabaf12f897a0fe07}{00127}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af5d47c3599434e1aabaf12f897a0fe07}{conf\_thres}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.conf\_thres}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af5d47c3599434e1aabaf12f897a0fe07}{conf\_thres}}\ =\ CONF\_THRES}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}},\ \textcolor{stringliteral}{"{}iou\_thres"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00131}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac169094531c52df6b188c85d53cc2ee5}{00131}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac169094531c52df6b188c85d53cc2ee5}{iou\_thres}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.iou\_thres}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac169094531c52df6b188c85d53cc2ee5}{iou\_thres}}\ =\ IOU\_THRES}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00135}00135\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(\{\textcolor{stringliteral}{"{}val\_iou\_threshold"{}}:\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac169094531c52df6b188c85d53cc2ee5}{iou\_thres}},\ \textcolor{stringliteral}{"{}val\_conf\_threshold"{}}:\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af5d47c3599434e1aabaf12f897a0fe07}{conf\_thres}}\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00137}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a569a5943cb0a0a6bd07622a6c98dbb1c}{00137}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a569a5943cb0a0a6bd07622a6c98dbb1c}{comet\_log\_predictions}}\ =\ COMET\_LOG\_PREDICTIONS}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.bbox\_interval\ ==\ -\/1:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00139}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab66c90097f865698b96c475382240099}{00139}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab66c90097f865698b96c475382240099}{comet\_log\_prediction\_interval}}\ =\ 1\ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.epochs\ <\ 10\ \textcolor{keywordflow}{else}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.epochs\ //\ 10}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab66c90097f865698b96c475382240099}{comet\_log\_prediction\_interval}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.bbox\_interval}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00143}00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a569a5943cb0a0a6bd07622a6c98dbb1c}{comet\_log\_predictions}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00144}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a78273005f4028834cecf285f0785ddae}{00144}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a78273005f4028834cecf285f0785ddae}{metadata\_dict}}\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00145}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a12f2273e88c84710686442b87c47a3a7}{00145}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a12f2273e88c84710686442b87c47a3a7}{logged\_image\_names}}\ =\ []}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00147}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab3df56c085f059804cee5a399473a466}{00147}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab3df56c085f059804cee5a399473a466}{comet\_log\_per\_class\_metrics}}\ =\ COMET\_LOG\_PER\_CLASS\_METRICS}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00149}00149\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_others(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_mode"{}}:\ COMET\_MODE,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_max\_image\_uploads"{}}:\ COMET\_MAX\_IMAGE\_UPLOADS,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_log\_per\_class\_metrics"{}}:\ COMET\_LOG\_PER\_CLASS\_METRICS,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_log\_batch\_metrics"{}}:\ COMET\_LOG\_BATCH\_METRICS,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_log\_confusion\_matrix"{}}:\ COMET\_LOG\_CONFUSION\_MATRIX,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}comet\_model\_name"{}}:\ COMET\_MODEL\_NAME,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00158}00158\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00159}00159\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ if\ running\ the\ Experiment\ with\ the\ Comet\ Optimizer}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}},\ \textcolor{stringliteral}{"{}comet\_optimizer\_id"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}optimizer\_id"{}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.comet\_optimizer\_id)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}optimizer\_objective"{}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.comet\_optimizer\_objective)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}optimizer\_metric"{}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.comet\_optimizer\_metric)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}optimizer\_parameters"{}},\ json.dumps(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aad87960810101db4cd1c8c3e67578e49}{hyp}}))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00167}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0e763b1fc17be22be2000663c03e42cb}{00167}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0e763b1fc17be22be2000663c03e42cb}{\_get\_experiment}}(self,\ mode,\ experiment\_id=None):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ mode\ ==\ \textcolor{stringliteral}{"{}offline"{}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ comet\_ml.ExistingOfflineExperiment(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ previous\_experiment=experiment\_id,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ experiment\_id\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ comet\_ml.OfflineExperiment(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ experiment\_id\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comet\_ml.ExistingExperiment(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ previous\_experiment=experiment\_id,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ **self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comet\_ml.Experiment(**self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8bccc171c0e6bb157fd18bbd52ed4646}{default\_experiment\_kwargs}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ logger.warning(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}COMET\ WARNING:\ "{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Comet\ credentials\ have\ not\ been\ set.\ "{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Comet\ will\ default\ to\ offline\ logging.\ "{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Please\ set\ your\ credentials\ to\ enable\ online\ logging."{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0e763b1fc17be22be2000663c03e42cb}{\_get\_experiment}}(\textcolor{stringliteral}{"{}offline"{}},\ experiment\_id)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00196}00196\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00199}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac26975ac85d389a14637552830bd389a}{00199}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac26975ac85d389a14637552830bd389a}{log\_metrics}}(self,\ log\_dict,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00200}00200\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac26975ac85d389a14637552830bd389a}{log\_metrics}}(log\_dict,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00202}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{00202}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(self,\ log\_dict,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00203}00203\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(log\_dict,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00205}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{00205}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(self,\ asset\_path,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00206}00206\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(asset\_path,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00207}00207\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00208}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af10add0e07581ebbffb26cbe51a5ea26}{00208}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af10add0e07581ebbffb26cbe51a5ea26}{log\_asset\_data}}(self,\ asset,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00209}00209\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af10add0e07581ebbffb26cbe51a5ea26}{log\_asset\_data}}(asset,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00211}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a43029d5b428409eedd85923cd70c61fa}{00211}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a43029d5b428409eedd85923cd70c61fa}{log\_image}}(self,\ img,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00212}00212\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a43029d5b428409eedd85923cd70c61fa}{log\_image}}(img,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00214}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adab26ff12d66fec7a61adb753790a938}{00214}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adab26ff12d66fec7a61adb753790a938}{log\_model}}(self,\ path,\ opt,\ epoch,\ fitness\_score,\ best\_model=False):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0a7ac5019cb9ee0ac1b95d88cb223c61}{save\_model}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00217}00217\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00218}00218\ \ \ \ \ \ \ \ \ model\_metadata\ =\ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}fitness\_score"{}}:\ fitness\_score[-\/1],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}epochs\_trained"{}}:\ epoch\ +\ 1,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}save\_period"{}}:\ opt.save\_period,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}total\_epochs"{}}:\ opt.epochs,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00223}00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00224}00224\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00225}00225\ \ \ \ \ \ \ \ \ model\_files\ =\ glob.glob(f\textcolor{stringliteral}{"{}\{path\}/*.pt"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ model\_path\ \textcolor{keywordflow}{in}\ model\_files:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ Path(model\_path).name}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00228}00228\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adab26ff12d66fec7a61adb753790a938}{log\_model}}(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a38b9dd166521e3f73cf6e3c7fd496777}{model\_name}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\_or\_folder=model\_path,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\_name=name,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=model\_metadata,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ overwrite=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00236}00236\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00237}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0bae99a216c86ab2968a7490be31e0db}{00237}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0bae99a216c86ab2968a7490be31e0db}{check\_dataset}}(self,\ data\_file):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(data\_file)\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ data\_config\ =\ yaml.safe\_load(f)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00240}00240\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00241}00241\ \ \ \ \ \ \ \ \ path\ =\ data\_config.get(\textcolor{stringliteral}{"{}path"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ path\ \textcolor{keywordflow}{and}\ path.startswith(COMET\_PREFIX):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ data\_config[\textcolor{stringliteral}{"{}path"{}}].replace(COMET\_PREFIX,\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab6fd09064fcfe4596c4b035f0a1e5a84}{download\_dataset\_artifact}}(path)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00245}00245\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.data,\ metadata=\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}data-\/config-\/file"{}}\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ check\_dataset(data\_file)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00249}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a36e71d6b02c0d1f861f9dfc6272e0003}{00249}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a36e71d6b02c0d1f861f9dfc6272e0003}{log\_predictions}}(self,\ image,\ labelsn,\ path,\ shape,\ predn):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2e7934fe3f517a54e2b75bc6d0e50632}{logged\_images\_count}}\ >=\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a906bac84a113731f0532fe32900c0f34}{max\_images}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00252}00252\ \ \ \ \ \ \ \ \ detections\ =\ predn[predn[:,\ 4]\ >\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af5d47c3599434e1aabaf12f897a0fe07}{conf\_thres}}]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00253}00253\ \ \ \ \ \ \ \ \ iou\ =\ box\_iou(labelsn[:,\ 1:],\ detections[:,\ :4])}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00254}00254\ \ \ \ \ \ \ \ \ mask,\ \_\ =\ torch.where(iou\ >\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac169094531c52df6b188c85d53cc2ee5}{iou\_thres}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(mask)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00258}00258\ \ \ \ \ \ \ \ \ filtered\_detections\ =\ detections[mask]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00259}00259\ \ \ \ \ \ \ \ \ filtered\_labels\ =\ labelsn[mask]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00261}00261\ \ \ \ \ \ \ \ \ image\_id\ =\ path.split(\textcolor{stringliteral}{"{}/"{}})[-\/1].split(\textcolor{stringliteral}{"{}."{}})[0]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00262}00262\ \ \ \ \ \ \ \ \ image\_name\ =\ f\textcolor{stringliteral}{"{}\{image\_id\}\_curr\_epoch\_\{self.experiment.curr\_epoch\}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00263}00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ image\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a12f2273e88c84710686442b87c47a3a7}{logged\_image\_names}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ native\_scale\_image\ =\ PIL.Image.open(path)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a43029d5b428409eedd85923cd70c61fa}{log\_image}}(native\_scale\_image,\ name=image\_name)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a12f2273e88c84710686442b87c47a3a7}{logged\_image\_names}}.append(image\_name)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00267}00267\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00268}00268\ \ \ \ \ \ \ \ \ metadata\ =\ [}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}label"{}}:\ f\textcolor{stringliteral}{"{}\{self.class\_names[int(cls)]\}-\/gt"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}score"{}}:\ 100,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}box"{}}:\ \{\textcolor{stringliteral}{"{}x"{}}:\ xyxy[0],\ \textcolor{stringliteral}{"{}y"{}}:\ xyxy[1],\ \textcolor{stringliteral}{"{}x2"{}}:\ xyxy[2],\ \textcolor{stringliteral}{"{}y2"{}}:\ xyxy[3]\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ cls,\ *xyxy\ \textcolor{keywordflow}{in}\ filtered\_labels.tolist()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00275}00275\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00276}00276\ \ \ \ \ \ \ \ \ metadata.extend(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}label"{}}:\ f\textcolor{stringliteral}{"{}\{self.class\_names[int(cls)]\}"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}score"{}}:\ conf\ *\ 100,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}box"{}}:\ \{\textcolor{stringliteral}{"{}x"{}}:\ xyxy[0],\ \textcolor{stringliteral}{"{}y"{}}:\ xyxy[1],\ \textcolor{stringliteral}{"{}x2"{}}:\ xyxy[2],\ \textcolor{stringliteral}{"{}y2"{}}:\ xyxy[3]\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ *xyxy,\ conf,\ cls\ \textcolor{keywordflow}{in}\ filtered\_detections.tolist()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00283}00283\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00284}00284\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a78273005f4028834cecf285f0785ddae}{metadata\_dict}}[image\_name]\ =\ metadata}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00285}00285\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2e7934fe3f517a54e2b75bc6d0e50632}{logged\_images\_count}}\ +=\ 1}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00289}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a44388042bc050554d6c19bd588b4d54a}{00289}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a44388042bc050554d6c19bd588b4d54a}{preprocess\_prediction}}(self,\ image,\ labels,\ shape,\ pred):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00290}00290\ \ \ \ \ \ \ \ \ nl,\ \_\ =\ labels.shape[0],\ pred.shape[0]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00292}00292\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Predictions}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.single\_cls:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ pred[:,\ 5]\ =\ 0}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00295}00295\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00296}00296\ \ \ \ \ \ \ \ \ predn\ =\ pred.clone()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00297}00297\ \ \ \ \ \ \ \ \ scale\_boxes(image.shape[1:],\ predn[:,\ :4],\ shape[0],\ shape[1])}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00299}00299\ \ \ \ \ \ \ \ \ labelsn\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ nl:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ tbox\ =\ xywh2xyxy(labels[:,\ 1:5])\ \ \textcolor{comment}{\#\ target\ boxes}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_boxes(image.shape[1:],\ tbox,\ shape[0],\ shape[1])\ \ \textcolor{comment}{\#\ native-\/space\ labels}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ labelsn\ =\ torch.cat((labels[:,\ 0:1],\ tbox),\ 1)\ \ \textcolor{comment}{\#\ native-\/space\ labels}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_boxes(image.shape[1:],\ predn[:,\ :4],\ shape[0],\ shape[1])\ \ \textcolor{comment}{\#\ native-\/space\ pred}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ predn,\ labelsn}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00307}00307\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00308}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae6adf158931a063e952811dac0e5833a}{00308}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae6adf158931a063e952811dac0e5833a}{add\_assets\_to\_artifact}}(self,\ artifact,\ path,\ asset\_path,\ split):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00309}00309\ \ \ \ \ \ \ \ \ img\_paths\ =\ sorted(glob.glob(f\textcolor{stringliteral}{"{}\{asset\_path\}/*"{}}))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00310}00310\ \ \ \ \ \ \ \ \ label\_paths\ =\ img2label\_paths(img\_paths)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00311}00311\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ image\_file,\ label\_file\ \textcolor{keywordflow}{in}\ zip(img\_paths,\ label\_paths):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ image\_logical\_path,\ label\_logical\_path\ =\ map(\textcolor{keyword}{lambda}\ x:\ os.path.relpath(x,\ path),\ [image\_file,\ label\_file])}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00314}00314\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ artifact.add(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ image\_file,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logical\_path=image\_logical\_path,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{"{}split"{}}:\ split\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ artifact.add(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ label\_file,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logical\_path=label\_logical\_path,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata=\{\textcolor{stringliteral}{"{}split"{}}:\ split\},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.error(\textcolor{stringliteral}{"{}COMET\ ERROR:\ Error\ adding\ file\ to\ Artifact.\ Skipping\ file."{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ logger.error(f\textcolor{stringliteral}{"{}COMET\ ERROR:\ \{e\}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ artifact}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00332}00332\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00333}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a9cbc4ec65b6c5f869e17d49519fbf20a}{00333}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a9cbc4ec65b6c5f869e17d49519fbf20a}{upload\_dataset\_artifact}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00334}00334\ \ \ \ \ \ \ \ \ dataset\_name\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}.get(\textcolor{stringliteral}{"{}dataset\_name"{}},\ \textcolor{stringliteral}{"{}yolov5-\/dataset"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00335}00335\ \ \ \ \ \ \ \ \ path\ =\ str((ROOT\ /\ Path(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}[\textcolor{stringliteral}{"{}path"{}}])).resolve())}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00337}00337\ \ \ \ \ \ \ \ \ metadata\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}.copy()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00338}00338\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}train"{}},\ \textcolor{stringliteral}{"{}val"{}},\ \textcolor{stringliteral}{"{}test"{}}]:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ split\_path\ =\ metadata.get(key)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ split\_path\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ metadata[key]\ =\ split\_path.replace(path,\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00342}00342\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00343}00343\ \ \ \ \ \ \ \ \ artifact\ =\ comet\_ml.Artifact(name=dataset\_name,\ artifact\_type=\textcolor{stringliteral}{"{}dataset"{}},\ metadata=metadata)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00344}00344\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key\ \textcolor{keywordflow}{in}\ metadata.keys():}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ key\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}train"{}},\ \textcolor{stringliteral}{"{}val"{}},\ \textcolor{stringliteral}{"{}test"{}}]:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1a6ebef670513e8efb9d544e66ec7d37}{upload\_dataset}},\ str)\ \textcolor{keywordflow}{and}\ (key\ !=\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1a6ebef670513e8efb9d544e66ec7d37}{upload\_dataset}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00348}00348\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asset\_path\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a2ce85d347ff76641484a54fc3e6cac91}{data\_dict}}.get(key)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ asset\_path\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ artifact\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae6adf158931a063e952811dac0e5833a}{add\_assets\_to\_artifact}}(artifact,\ path,\ asset\_path,\ key)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00352}00352\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00353}00353\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_artifact(artifact)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00354}00354\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00357}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab6fd09064fcfe4596c4b035f0a1e5a84}{00357}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab6fd09064fcfe4596c4b035f0a1e5a84}{download\_dataset\_artifact}}(self,\ artifact\_path):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00358}00358\ \ \ \ \ \ \ \ \ logged\_artifact\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.get\_artifact(artifact\_path)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00359}00359\ \ \ \ \ \ \ \ \ artifact\_save\_dir\ =\ str(Path(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.save\_dir)\ /\ logged\_artifact.name)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00360}00360\ \ \ \ \ \ \ \ \ logged\_artifact.download(artifact\_save\_dir)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00361}00361\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00362}00362\ \ \ \ \ \ \ \ \ metadata\ =\ logged\_artifact.metadata}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00363}00363\ \ \ \ \ \ \ \ \ data\_dict\ =\ metadata.copy()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00364}00364\ \ \ \ \ \ \ \ \ data\_dict[\textcolor{stringliteral}{"{}path"{}}]\ =\ artifact\_save\_dir}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00366}00366\ \ \ \ \ \ \ \ \ metadata\_names\ =\ metadata.get(\textcolor{stringliteral}{"{}names"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(metadata\_names,\ dict):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict[\textcolor{stringliteral}{"{}names"{}}]\ =\ \{int(k):\ v\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ metadata.get(\textcolor{stringliteral}{"{}names"{}}).items()\}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ isinstance(metadata\_names,\ list):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict[\textcolor{stringliteral}{"{}names"{}}]\ =\ \{int(k):\ v\ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ zip(range(len(metadata\_names)),\ metadata\_names)\}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ \textcolor{stringliteral}{"{}Invalid\ 'names'\ field\ in\ dataset\ yaml\ file.\ Please\ use\ a\ list\ or\ dictionary"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00373}00373\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_add71a907976c364f9f8a48a8f5bd6691}{update\_data\_paths}}(data\_dict)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00375}00375\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00376}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_add71a907976c364f9f8a48a8f5bd6691}{00376}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_add71a907976c364f9f8a48a8f5bd6691}{update\_data\_paths}}(self,\ data\_dict):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00377}00377\ \ \ \ \ \ \ \ \ path\ =\ data\_dict.get(\textcolor{stringliteral}{"{}path"{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00378}00378\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ split\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}train"{}},\ \textcolor{stringliteral}{"{}val"{}},\ \textcolor{stringliteral}{"{}test"{}}]:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ data\_dict.get(split):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ split\_path\ =\ data\_dict.get(split)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict[split]\ =\ (}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{path\}/\{split\_path\}"{}}\ \textcolor{keywordflow}{if}\ isinstance(split,\ str)\ \textcolor{keywordflow}{else}\ [f\textcolor{stringliteral}{"{}\{path\}/\{x\}"{}}\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ split\_path]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data\_dict}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00387}00387\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00388}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a608ce65fe4e0d299be95b034f5329e73}{00388}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a608ce65fe4e0d299be95b034f5329e73}{on\_pretrain\_routine\_end}}(self,\ paths):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.resume:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00391}00391\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ paths:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(str(path))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00394}00394\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00395}00395\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1a6ebef670513e8efb9d544e66ec7d37}{upload\_dataset}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab407004f6fb68532a050f2128adb47f4}{resume}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a9cbc4ec65b6c5f869e17d49519fbf20a}{upload\_dataset\_artifact}}()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00397}00397\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00398}00398\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00399}00399\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00400}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae4ca4512817c18c85a16d3aa1444f3b7}{00400}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae4ca4512817c18c85a16d3aa1444f3b7}{on\_train\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00401}00401\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aad87960810101db4cd1c8c3e67578e49}{hyp}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00402}00402\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00403}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1b71374142beb3f5253e03ee890c14a6}{00403}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a1b71374142beb3f5253e03ee890c14a6}{on\_train\_epoch\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00404}00404\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00405}00405\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00406}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a555958b23b986f4c2d741470374e6fe7}{00406}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a555958b23b986f4c2d741470374e6fe7}{on\_train\_epoch\_end}}(self,\ epoch):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00407}00407\ \ \ \ \ \ \ \ \ self.experiment.curr\_epoch\ =\ epoch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00408}00408\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00410}00410\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00411}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a9fa185f9731ac4b93087d35535cd4624}{00411}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a9fa185f9731ac4b93087d35535cd4624}{on\_train\_batch\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00413}00413\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00414}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a27e74f767bf5e2412e81cd77b8bbc1e4}{00414}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a27e74f767bf5e2412e81cd77b8bbc1e4}{on\_train\_batch\_end}}(self,\ log\_dict,\ step):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00415}00415\ \ \ \ \ \ \ \ \ self.experiment.curr\_step\ =\ step}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.log\_batch\_metrics\ \textcolor{keywordflow}{and}\ (step\ \%\ self.comet\_log\_batch\_interval\ ==\ 0):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ self.log\_metrics(log\_dict,\ step=step)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00418}00418\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00419}00419\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00420}00420\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00421}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae4906c5bf69d1405b0b2033e361973bf}{00421}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ae4906c5bf69d1405b0b2033e361973bf}{on\_train\_end}}(self,\ files,\ save\_dir,\ last,\ best,\ epoch,\ results):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a569a5943cb0a0a6bd07622a6c98dbb1c}{comet\_log\_predictions}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ curr\_epoch\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.curr\_epoch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_af10add0e07581ebbffb26cbe51a5ea26}{log\_asset\_data}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a78273005f4028834cecf285f0785ddae}{metadata\_dict}},\ \textcolor{stringliteral}{"{}image-\/metadata.json"{}},\ epoch=curr\_epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(f,\ metadata=\{\textcolor{stringliteral}{"{}epoch"{}}:\ epoch\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00428}00428\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a8ae1e33faf89a6430c65aca0cf8787cd}{log\_asset}}(f\textcolor{stringliteral}{"{}\{save\_dir\}/results.csv"{}},\ metadata=\{\textcolor{stringliteral}{"{}epoch"{}}:\ epoch\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00429}00429\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.evolve:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ model\_path\ =\ str(best\ \textcolor{keywordflow}{if}\ best.exists()\ \textcolor{keywordflow}{else}\ last)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ name\ =\ Path(model\_path).name}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a0a7ac5019cb9ee0ac1b95d88cb223c61}{save\_model}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adab26ff12d66fec7a61adb753790a938}{log\_model}}(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a38b9dd166521e3f73cf6e3c7fd496777}{model\_name}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\_or\_folder=model\_path,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\_name=name,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ overwrite=\textcolor{keyword}{True},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00440}00440\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Check\ if\ running\ Experiment\ with\ Comet\ Optimizer}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00442}00442\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ hasattr(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}},\ \textcolor{stringliteral}{"{}comet\_optimizer\_id"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ metric\ =\ results.get(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.comet\_optimizer\_metric)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_other(\textcolor{stringliteral}{"{}optimizer\_metric\_value"{}},\ metric)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00445}00445\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00446}00446\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab950e25a6e60376d97130ec393f83b41}{finish\_run}}()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00447}00447\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00448}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac6a55f88fb7efbb2af6b87c7155bca87}{00448}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac6a55f88fb7efbb2af6b87c7155bca87}{on\_val\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00449}00449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00451}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aecc93dc0bdd5c6a1cd023508a720d8ed}{00451}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aecc93dc0bdd5c6a1cd023508a720d8ed}{on\_val\_batch\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00454}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa01cb65ec068b2395a8b0513a9042723}{00454}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa01cb65ec068b2395a8b0513a9042723}{on\_val\_batch\_end}}(self,\ batch\_i,\ images,\ targets,\ paths,\ shapes,\ outputs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00455}00455\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ (self.comet\_log\_predictions\ \textcolor{keywordflow}{and}\ ((batch\_i\ +\ 1)\ \%\ self.comet\_log\_prediction\_interval\ ==\ 0)):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00457}00457\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00458}00458\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ si,\ pred\ \textcolor{keywordflow}{in}\ enumerate(outputs):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(pred)\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00460}00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00461}00461\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \ \ \ image\ =\ images[si]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00463}00463\ \ \ \ \ \ \ \ \ \ \ \ \ labels\ =\ targets[targets[:,\ 0]\ ==\ si,\ 1:]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ shape\ =\ shapes[si]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ path\ =\ paths[si]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ predn,\ labelsn\ =\ self.preprocess\_prediction(image,\ labels,\ shape,\ pred)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00467}00467\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ labelsn\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00468}00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.log\_predictions(image,\ labelsn,\ path,\ shape,\ predn)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00469}00469\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00470}00470\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00471}00471\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00472}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a98d6b73cb7a47f0decc669cf6a21a1b9}{00472}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a98d6b73cb7a47f0decc669cf6a21a1b9}{on\_val\_end}}(self,\ nt,\ tp,\ fp,\ p,\ r,\ f1,\ ap,\ ap50,\ ap\_class,\ confusion\_matrix):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00473}00473\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab3df56c085f059804cee5a399473a466}{comet\_log\_per\_class\_metrics}}\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a27518d6e667eeb93f616c100ced3d4e5}{num\_classes}}\ >\ 1:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ c\ \textcolor{keywordflow}{in}\ enumerate(ap\_class):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ class\_name\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa6244112b4146a90f69ab4d09ca89648}{class\_names}}[c]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac26975ac85d389a14637552830bd389a}{log\_metrics}}(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mAP@.5"{}}:\ ap50[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mAP@.5:.95"{}}:\ ap[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}precision"{}}:\ p[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}recall"{}}:\ r[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}f1"{}}:\ f1[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}true\_positives"{}}:\ tp[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}false\_positives"{}}:\ fp[i],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}support"{}}:\ nt[c],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix=class\_name,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00489}00489\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00490}00490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a3f97f7b94074baabd4904e169889feae}{comet\_log\_confusion\_matrix}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ epoch\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.curr\_epoch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ class\_names\ =\ list(self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aa6244112b4146a90f69ab4d09ca89648}{class\_names}}.values())}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ class\_names.append(\textcolor{stringliteral}{"{}background"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ num\_classes\ =\ len(class\_names)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00495}00495\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.log\_confusion\_matrix(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ matrix=confusion\_matrix.matrix,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_categories=num\_classes,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ labels=class\_names,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ epoch=epoch,}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ column\_label=\textcolor{stringliteral}{"{}Actual\ Category"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ row\_label=\textcolor{stringliteral}{"{}Predicted\ Category"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ file\_name=f\textcolor{stringliteral}{"{}confusion-\/matrix-\/epoch-\/\{epoch\}.json"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00505}00505\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00506}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aaffde044e918761fce4a92f8cc4b9be5}{00506}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_aaffde044e918761fce4a92f8cc4b9be5}{on\_fit\_epoch\_end}}(self,\ result,\ epoch):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00507}00507\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ac26975ac85d389a14637552830bd389a}{log\_metrics}}(result,\ epoch=epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00508}00508\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00509}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a5e88866b30b27aabab921b30d2f8d662}{00509}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a5e88866b30b27aabab921b30d2f8d662}{on\_model\_save}}(self,\ last,\ epoch,\ final\_epoch,\ best\_fitness,\ fi):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00510}00510\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((epoch\ +\ 1)\ \%\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.save\_period\ ==\ 0\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ final\_epoch)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}}.save\_period\ !=\ -\/1:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_adab26ff12d66fec7a61adb753790a938}{log\_model}}(last.parent,\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7bbac17e22d136f79aa1b3689e05a00a}{opt}},\ epoch,\ fi,\ best\_model=best\_fitness\ ==\ fi)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00512}00512\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00513}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7d357c2be0e81aaadcc411766e2de443}{00513}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a7d357c2be0e81aaadcc411766e2de443}{on\_params\_update}}(self,\ params):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00514}00514\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_acfc7e05aab05f4a4e4a9c289680be29b}{log\_parameters}}(params)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00515}00515\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00516}\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab950e25a6e60376d97130ec393f83b41}{00516}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_ab950e25a6e60376d97130ec393f83b41}{finish\_run}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2comet_2____init_____8py_source_l00517}00517\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger_a51706365d13488b11e812c525873791b}{experiment}}.end()}

\end{DoxyCode}
