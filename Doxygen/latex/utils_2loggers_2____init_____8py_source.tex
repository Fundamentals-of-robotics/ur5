\doxysection{\+\_\+\+\_\+init\+\_\+\+\_\+.\+py}
\hypertarget{utils_2loggers_2____init_____8py_source}{}\label{utils_2loggers_2____init_____8py_source}\index{C:/Users/dorij/OneDrive/Desktop/ur5/vision/yolo/utils/loggers/\_\_init\_\_.py@{C:/Users/dorij/OneDrive/Desktop/ur5/vision/yolo/utils/loggers/\_\_init\_\_.py}}
\mbox{\hyperlink{utils_2loggers_2____init_____8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00001}\mbox{\hyperlink{namespaceutils_1_1loggers}{00001}}\ \textcolor{comment}{\#\ YOLOv5\ 🚀\ by\ Ultralytics,\ AGPL-\/3.0\ license}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00002}00002\ \textcolor{stringliteral}{"{}"{}"{}Logging\ utils."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00003}00003\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00004}00004\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00005}00005\ \textcolor{keyword}{import}\ warnings}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00006}00006\ \textcolor{keyword}{from}\ pathlib\ \textcolor{keyword}{import}\ Path}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00008}00008\ \textcolor{keyword}{import}\ pkg\_resources\ \textcolor{keyword}{as}\ pkg}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00009}00009\ \textcolor{keyword}{import}\ torch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00011}00011\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1general}{utils.general}}\ \textcolor{keyword}{import}\ LOGGER,\ colorstr,\ cv2}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00012}00012\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1loggers_1_1clearml_1_1clearml__utils}{utils.loggers.clearml.clearml\_utils}}\ \textcolor{keyword}{import}\ ClearmlLogger}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00013}00013\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1loggers_1_1wandb_1_1wandb__utils}{utils.loggers.wandb.wandb\_utils}}\ \textcolor{keyword}{import}\ WandbLogger}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00014}00014\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1plots}{utils.plots}}\ \textcolor{keyword}{import}\ plot\_images,\ plot\_labels,\ plot\_results}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00015}00015\ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1torch__utils}{utils.torch\_utils}}\ \textcolor{keyword}{import}\ de\_parallel}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00017}\mbox{\hyperlink{namespaceutils_1_1loggers_aa0e1d33484981f790ef2dc5cc6009381}{00017}}\ LOGGERS\ =\ (\textcolor{stringliteral}{"{}csv"{}},\ \textcolor{stringliteral}{"{}tb"{}},\ \textcolor{stringliteral}{"{}wandb"{}},\ \textcolor{stringliteral}{"{}clearml"{}},\ \textcolor{stringliteral}{"{}comet"{}})\ \ \textcolor{comment}{\#\ *.csv,\ TensorBoard,\ Weights\ \&\ Biases,\ ClearML}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00018}\mbox{\hyperlink{namespaceutils_1_1loggers_a7934fd83843ce269bc87debfe17eeff9}{00018}}\ RANK\ =\ int(os.getenv(\textcolor{stringliteral}{"{}RANK"{}},\ -\/1))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00020}00020\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00021}00021\ \ \ \ \ \textcolor{keyword}{from}\ torch.utils.tensorboard\ \textcolor{keyword}{import}\ SummaryWriter}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00022}00022\ \textcolor{keywordflow}{except}\ ImportError:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00023}\mbox{\hyperlink{namespaceutils_1_1loggers_a8fdcd8cc5c3144b1ad8b7e576d34ac8d}{00023}}\ \ \ \ \ SummaryWriter\ =\ \textcolor{keyword}{lambda}\ *args:\ \textcolor{keywordtype}{None}\ \ \textcolor{comment}{\#\ None\ =\ SummaryWriter(str)}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00025}00025\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00026}00026\ \ \ \ \ \textcolor{keyword}{import}\ wandb}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00028}00028\ \ \ \ \ \textcolor{keyword}{assert}\ hasattr(wandb,\ \textcolor{stringliteral}{"{}\_\_version\_\_"{}})\ \ \textcolor{comment}{\#\ verify\ package\ import\ not\ local\ dir}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{if}\ pkg.parse\_version(wandb.\_\_version\_\_)\ >=\ pkg.parse\_version(\textcolor{stringliteral}{"{}0.12.2"{}})\ \textcolor{keywordflow}{and}\ RANK\ \textcolor{keywordflow}{in}\ \{0,\ -\/1\}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00031}\mbox{\hyperlink{namespaceutils_1_1loggers_a6ac5cbf3ecfb9b4f5c9ea7c2136da87b}{00031}}\ \ \ \ \ \ \ \ \ \ \ \ \ wandb\_login\_success\ =\ wandb.login(timeout=30)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ wandb.errors.UsageError:\ \ \textcolor{comment}{\#\ known\ non-\/TTY\ terminal\ issue}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ wandb\_login\_success\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ wandb\_login\_success:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00035}\mbox{\hyperlink{namespaceutils_1_1loggers_a7a06e9e3281887ea7594ff5b78d2e05e}{00035}}\ \ \ \ \ \ \ \ \ \ \ \ \ wandb\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00036}00036\ \textcolor{keywordflow}{except}\ (ImportError,\ AssertionError):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00037}00037\ \ \ \ \ wandb\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00039}00039\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00040}00040\ \ \ \ \ \textcolor{keyword}{import}\ clearml}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{assert}\ hasattr(clearml,\ \textcolor{stringliteral}{"{}\_\_version\_\_"{}})\ \ \textcolor{comment}{\#\ verify\ package\ import\ not\ local\ dir}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00043}00043\ \textcolor{keywordflow}{except}\ (ImportError,\ AssertionError):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00044}\mbox{\hyperlink{namespaceutils_1_1loggers_adbec0126d0a8d91e80ef83109b4b091b}{00044}}\ \ \ \ \ clearml\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00046}00046\ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{if}\ RANK\ \textcolor{keywordflow}{in}\ \{0,\ -\/1\}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ comet\_ml}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{keyword}{assert}\ hasattr(comet\_ml,\ \textcolor{stringliteral}{"{}\_\_version\_\_"{}})\ \ \textcolor{comment}{\#\ verify\ package\ import\ not\ local\ dir}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{from}\ \mbox{\hyperlink{namespaceutils_1_1loggers_1_1comet}{utils.loggers.comet}}\ \textcolor{keyword}{import}\ CometLogger}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00054}\mbox{\hyperlink{namespaceutils_1_1loggers_a5bc19f93b457386bf9fe8fb037d7af50}{00054}}\ \ \ \ \ \ \ \ \ comet\_ml\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00055}00055\ \textcolor{keywordflow}{except}\ (ImportError,\ AssertionError):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00056}00056\ \ \ \ \ comet\_ml\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00059}\mbox{\hyperlink{namespaceutils_1_1loggers_a2e3c67079d54f2a2afe31eea6b05802e}{00059}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceutils_1_1loggers_a2e3c67079d54f2a2afe31eea6b05802e}{\_json\_default}}(value):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00060}00060\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00061}00061\ \textcolor{stringliteral}{\ \ \ \ Format\ \`{}value\`{}\ for\ JSON\ serialization\ (e.g.\ unwrap\ tensors).}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00062}00062\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ Fall\ back\ to\ strings.}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00065}00065\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(value,\ torch.Tensor):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ value\ =\ value.item()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ ValueError:\ \ \textcolor{comment}{\#\ "{}only\ one\ element\ tensors\ can\ be\ converted\ to\ Python\ scalars"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00070}00070\ \ \ \ \ \textcolor{keywordflow}{return}\ value\ \textcolor{keywordflow}{if}\ isinstance(value,\ float)\ \textcolor{keywordflow}{else}\ str(value)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00073}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers}{00073}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers}{Loggers}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00074}00074\ \ \ \ \ \textcolor{comment}{\#\ YOLOv5\ Loggers\ class}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00075}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a221f819500ca68d520970cd370f119d3}{00075}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a221f819500ca68d520970cd370f119d3}{\_\_init\_\_}}(self,\ save\_dir=None,\ weights=None,\ opt=None,\ hyp=None,\ logger=None,\ include=LOGGERS):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00076}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{00076}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ =\ save\_dir}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00077}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5b470bfe7a408e73855977fdcec87c48}{00077}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5b470bfe7a408e73855977fdcec87c48}{weights}}\ =\ weights}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00078}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{00078}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}\ =\ opt}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00079}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{00079}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{hyp}}\ =\ hyp}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00080}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a0adb08913caf8c5d37271b69e548832f}{00080}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a0adb08913caf8c5d37271b69e548832f}{plots}}\ =\ \textcolor{keywordflow}{not}\ opt.noplots\ \ \textcolor{comment}{\#\ plot\ results}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00081}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac2ddc58314f52965964b16ea58fa749b}{00081}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac2ddc58314f52965964b16ea58fa749b}{logger}}\ =\ logger\ \ \textcolor{comment}{\#\ for\ printing\ results\ to\ console}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00082}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{00082}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}\ =\ include}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00083}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{00083}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}}\ =\ [}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}train/box\_loss"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}train/obj\_loss"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}train/cls\_loss"{}},\ \ \textcolor{comment}{\#\ train\ loss}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}metrics/precision"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}metrics/recall"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}metrics/mAP\_0.5"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}metrics/mAP\_0.5:0.95"{}},\ \ \textcolor{comment}{\#\ metrics}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}val/box\_loss"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}val/obj\_loss"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}val/cls\_loss"{}},\ \ \textcolor{comment}{\#\ val\ loss}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}x/lr0"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}x/lr1"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}x/lr2"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00097}00097\ \ \ \ \ \ \ \ \ ]\ \ \textcolor{comment}{\#\ params}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00098}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a57a731b2de169c5acf7329a44d3df7a8}{00098}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a57a731b2de169c5acf7329a44d3df7a8}{best\_keys}}\ =\ [\textcolor{stringliteral}{"{}best/epoch"{}},\ \textcolor{stringliteral}{"{}best/precision"{}},\ \textcolor{stringliteral}{"{}best/recall"{}},\ \textcolor{stringliteral}{"{}best/mAP\_0.5"{}},\ \textcolor{stringliteral}{"{}best/mAP\_0.5:0.95"{}}]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00099}00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k\ \textcolor{keywordflow}{in}\ LOGGERS:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ setattr(self,\ k,\ \textcolor{keywordtype}{None})\ \ \textcolor{comment}{\#\ init\ empty\ logger\ dictionary}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00101}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a06a305dc568b37ee66a424129c4bfbdc}{00101}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a06a305dc568b37ee66a424129c4bfbdc}{csv}}\ =\ \textcolor{keyword}{True}\ \ \textcolor{comment}{\#\ always\ log\ to\ csv}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00102}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aa69465c144c7fed52eaf9a2d4d792ecd}{00102}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aa69465c144c7fed52eaf9a2d4d792ecd}{ndjson\_console}}\ =\ \textcolor{stringliteral}{"{}ndjson\_console"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}\ \ \textcolor{comment}{\#\ log\ ndjson\ to\ console}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00103}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a54519e5a58c87573dbc6c9d10d4af673}{00103}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a54519e5a58c87573dbc6c9d10d4af673}{ndjson\_file}}\ =\ \textcolor{stringliteral}{"{}ndjson\_file"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}\ \ \textcolor{comment}{\#\ log\ ndjson\ to\ file}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Messages}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ comet\_ml:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ prefix\ =\ colorstr(\textcolor{stringliteral}{"{}Comet:\ "{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ f\textcolor{stringliteral}{"{}\{prefix\}run\ 'pip\ install\ comet\_ml'\ to\ automatically\ track\ and\ visualize\ YOLOv5\ 🚀\ runs\ in\ Comet"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac2ddc58314f52965964b16ea58fa749b}{logger}}.info(s)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ TensorBoard}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00111}00111\ \ \ \ \ \ \ \ \ s\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}tb"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.evolve:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ prefix\ =\ colorstr(\textcolor{stringliteral}{"{}TensorBoard:\ "{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac2ddc58314f52965964b16ea58fa749b}{logger}}.info(f\textcolor{stringliteral}{"{}\{prefix\}Start\ with\ 'tensorboard\ -\/-\/logdir\ \{s.parent\}',\ view\ at\ http://localhost:6006/"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00115}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{00115}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}\ =\ SummaryWriter(str(s))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ W\&B}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ wandb\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}wandb"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.hyp\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{hyp}}\ \ \textcolor{comment}{\#\ add\ hyperparameters}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00120}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{00120}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}\ =\ \mbox{\hyperlink{classutils_1_1loggers_1_1wandb_1_1wandb__utils_1_1_wandb_logger}{WandbLogger}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00124}00124\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ClearML}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ clearml\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}clearml"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00127}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{00127}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}\ =\ \mbox{\hyperlink{classutils_1_1loggers_1_1clearml_1_1clearml__utils_1_1_clearml_logger}{ClearmlLogger}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{hyp}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix\ =\ colorstr(\textcolor{stringliteral}{"{}ClearML:\ "{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LOGGER.warning(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{prefix\}WARNING\ ⚠️\ ClearML\ is\ installed\ but\ not\ configured,\ skipping\ ClearML\ logging."{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\ See\ https://docs.ultralytics.com/yolov5/tutorials/clearml\_logging\_integration\#readme"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00139}00139\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Comet}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ comet\_ml\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}comet"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_af6546926733158824e278fb4f2834476}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.resume,\ str)\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.resume.startswith(\textcolor{stringliteral}{"{}comet://"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ run\_id\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.resume.split(\textcolor{stringliteral}{"{}/"{}})[-\/1]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00143}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{00143}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}\ =\ \mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger}{CometLogger}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{hyp}},\ run\_id=run\_id)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}\ =\ \mbox{\hyperlink{classutils_1_1loggers_1_1comet_1_1_comet_logger}{CometLogger}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}},\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a6fe498c82088d9f851679236cc91f315}{hyp}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00151}00151\ \ \ \ \ \textcolor{preprocessor}{@property}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00152}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_abb484c235b7c235e53ee6b1bec502270}{00152}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_abb484c235b7c235e53ee6b1bec502270}{remote\_dataset}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Get\ data\_dict\ if\ custom\ dataset\ artifact\ link\ is\ provided}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00154}00154\ \ \ \ \ \ \ \ \ data\_dict\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.data\_dict}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.data\_dict}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ data\_dict\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.data\_dict}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data\_dict}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00164}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac24f1ca0095ea72bc008ca076c80a5df}{00164}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac24f1ca0095ea72bc008ca076c80a5df}{on\_train\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac24f1ca0095ea72bc008ca076c80a5df}{on\_train\_start}}()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00168}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aedaf3df391e8c48e5eca313638130c56}{00168}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aedaf3df391e8c48e5eca313638130c56}{on\_pretrain\_routine\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aedaf3df391e8c48e5eca313638130c56}{on\_pretrain\_routine\_start}}()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00172}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5d6d326d1c1084e2419e7475e0d8b66c}{00172}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5d6d326d1c1084e2419e7475e0d8b66c}{on\_pretrain\_routine\_end}}(self,\ labels,\ names):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ pre-\/train\ routine\ end}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a0adb08913caf8c5d37271b69e548832f}{plots}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ plot\_labels(labels,\ names,\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ paths\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}.glob(\textcolor{stringliteral}{"{}*labels*.jpg"{}})\ \ \textcolor{comment}{\#\ training\ labels}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(\{\textcolor{stringliteral}{"{}Labels"{}}:\ [wandb.Image(str(x),\ caption=x.name)\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ paths]\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5d6d326d1c1084e2419e7475e0d8b66c}{on\_pretrain\_routine\_end}}(paths)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ path\ \textcolor{keywordflow}{in}\ paths:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_plot(title=path.stem,\ plot\_path=path)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00184}00184\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00185}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac3bd17e269b9c923a98e9ad88d9e1463}{00185}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac3bd17e269b9c923a98e9ad88d9e1463}{on\_train\_batch\_end}}(self,\ model,\ ni,\ imgs,\ targets,\ paths,\ vals):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00186}00186\ \ \ \ \ \ \ \ \ log\_dict\ =\ dict(zip(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}}[:3],\ vals))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ train\ batch\ end}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ni:\ number\ integrated\ batches\ (since\ train\ start)}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a0adb08913caf8c5d37271b69e548832f}{plots}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ni\ <\ 3:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ f\textcolor{stringliteral}{"{}train\_batch\{ni\}.jpg"{}}\ \ \textcolor{comment}{\#\ filename}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ plot\_images(imgs,\ targets,\ paths,\ f)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ni\ ==\ 0\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.sync\_bn:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutils_1_1loggers_a38b39ba8e751a1d1fb3e03c46efc346c}{log\_tensorboard\_graph}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}},\ model,\ imgsz=(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.imgsz,\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.imgsz))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ni\ ==\ 10\ \textcolor{keywordflow}{and}\ (self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}\ \textcolor{keywordflow}{or}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ files\ =\ sorted(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}.glob(\textcolor{stringliteral}{"{}train*.jpg"{}}))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(\{\textcolor{stringliteral}{"{}Mosaics"{}}:\ [wandb.Image(str(f),\ caption=f.name)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files\ \textcolor{keywordflow}{if}\ f.exists()]\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_debug\_samples(files,\ title=\textcolor{stringliteral}{"{}Mosaics"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac3bd17e269b9c923a98e9ad88d9e1463}{on\_train\_batch\_end}}(log\_dict,\ step=ni)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00205}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a34268bb1511e559073276e73c01b0491}{00205}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a34268bb1511e559073276e73c01b0491}{on\_train\_epoch\_end}}(self,\ epoch):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ train\ epoch\ end}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00207}00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.current\_epoch\ =\ epoch\ +\ 1}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a34268bb1511e559073276e73c01b0491}{on\_train\_epoch\_end}}(epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00213}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a99f88f90f0419c24515fb0878cefef51}{00213}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a99f88f90f0419c24515fb0878cefef51}{on\_val\_start}}(self):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00214}00214\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a99f88f90f0419c24515fb0878cefef51}{on\_val\_start}}()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00217}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5e24fd8d5297c75c9426f7abd9c2cafa}{00217}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a5e24fd8d5297c75c9426f7abd9c2cafa}{on\_val\_image\_end}}(self,\ pred,\ predn,\ path,\ names,\ im):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00218}00218\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ val\ image\ end}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00219}00219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.val\_one\_image(pred,\ predn,\ path,\ names,\ im)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00221}00221\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_image\_with\_boxes(path,\ pred,\ names,\ im)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00224}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a4eb42f853a41df8bb06c1e0d68a576a1}{00224}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a4eb42f853a41df8bb06c1e0d68a576a1}{on\_val\_batch\_end}}(self,\ batch\_i,\ im,\ targets,\ paths,\ shapes,\ out):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a4eb42f853a41df8bb06c1e0d68a576a1}{on\_val\_batch\_end}}(batch\_i,\ im,\ targets,\ paths,\ shapes,\ out)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00228}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a74ca31fb55ecfd851f7414acfbd1b1d0}{00228}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a74ca31fb55ecfd851f7414acfbd1b1d0}{on\_val\_end}}(self,\ nt,\ tp,\ fp,\ p,\ r,\ f1,\ ap,\ ap50,\ ap\_class,\ confusion\_matrix):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ val\ end}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00230}00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}\ \textcolor{keywordflow}{or}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ files\ =\ sorted(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}.glob(\textcolor{stringliteral}{"{}val*.jpg"{}}))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(\{\textcolor{stringliteral}{"{}Validation"{}}:\ [wandb.Image(str(f),\ caption=f.name)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files]\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_debug\_samples(files,\ title=\textcolor{stringliteral}{"{}Validation"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00236}00236\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00237}00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a74ca31fb55ecfd851f7414acfbd1b1d0}{on\_val\_end}}(nt,\ tp,\ fp,\ p,\ r,\ f1,\ ap,\ ap50,\ ap\_class,\ confusion\_matrix)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00240}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a177eb2fa42a59db6cae7a7eb0ea50e65}{00240}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a177eb2fa42a59db6cae7a7eb0ea50e65}{on\_fit\_epoch\_end}}(self,\ vals,\ epoch,\ best\_fitness,\ fi):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ at\ the\ end\ of\ each\ fit\ (train+val)\ epoch}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00242}00242\ \ \ \ \ \ \ \ \ x\ =\ dict(zip(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}},\ vals))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a06a305dc568b37ee66a424129c4bfbdc}{csv}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ file\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ \textcolor{stringliteral}{"{}results.csv"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ n\ =\ len(x)\ +\ 1\ \ \textcolor{comment}{\#\ number\ of\ cols}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ \textcolor{stringliteral}{"{}"{}}\ \textcolor{keywordflow}{if}\ file.exists()\ \textcolor{keywordflow}{else}\ ((\textcolor{stringliteral}{"{}\%20s,"{}}\ *\ n\ \%\ tuple([\textcolor{stringliteral}{"{}epoch"{}}]\ +\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}})).rstrip(\textcolor{stringliteral}{"{},"{}})\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}})\ \ \textcolor{comment}{\#\ add\ header}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(file,\ \textcolor{stringliteral}{"{}a"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.write(s\ +\ (\textcolor{stringliteral}{"{}\%20.5g,"{}}\ *\ n\ \%\ tuple([epoch]\ +\ vals)).rstrip(\textcolor{stringliteral}{"{},"{}})\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aa69465c144c7fed52eaf9a2d4d792ecd}{ndjson\_console}}\ \textcolor{keywordflow}{or}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a54519e5a58c87573dbc6c9d10d4af673}{ndjson\_file}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ json\_data\ =\ json.dumps(dict(epoch=epoch,\ **x),\ default=\_json\_default)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aa69465c144c7fed52eaf9a2d4d792ecd}{ndjson\_console}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ print(json\_data)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a54519e5a58c87573dbc6c9d10d4af673}{ndjson\_file}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ file\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ \textcolor{stringliteral}{"{}results.ndjson"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(file,\ \textcolor{stringliteral}{"{}a"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(json\_data,\ file=f)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00258}00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ x.items():}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}.add\_scalar(k,\ v,\ epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00261}00261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:\ \ \textcolor{comment}{\#\ log\ to\ ClearML\ if\ TensorBoard\ not\ used}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_scalars(x,\ epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00263}00263\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00264}00264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ best\_fitness\ ==\ fi:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ best\_results\ =\ [epoch]\ +\ vals[3:7]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i,\ name\ \textcolor{keywordflow}{in}\ enumerate(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a57a731b2de169c5acf7329a44d3df7a8}{best\_keys}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.wandb\_run.summary[name]\ =\ best\_results[i]\ \ \textcolor{comment}{\#\ log\ best\ results\ in\ the\ summary}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(x)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.end\_epoch()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00271}00271\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00272}00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.current\_epoch\_logged\_images\ =\ set()\ \ \textcolor{comment}{\#\ reset\ epoch\ image\ limit}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.current\_epoch\ +=\ 1}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00275}00275\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00276}00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a177eb2fa42a59db6cae7a7eb0ea50e65}{on\_fit\_epoch\_end}}(x,\ epoch=epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00279}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aeb3a963bf458e01aad1860401f63ce04}{00279}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aeb3a963bf458e01aad1860401f63ce04}{on\_model\_save}}(self,\ last,\ epoch,\ final\_epoch,\ best\_fitness,\ fi):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00280}00280\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ model\ save\ event}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00281}00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (epoch\ +\ 1)\ \%\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.save\_period\ ==\ 0\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ final\_epoch\ \textcolor{keywordflow}{and}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.save\_period\ !=\ -\/1:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log\_model(last.parent,\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}},\ epoch,\ fi,\ best\_model=best\_fitness\ ==\ fi)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.task.update\_output\_model(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ model\_path=str(last),\ model\_name=\textcolor{stringliteral}{"{}Latest\ Model"{}},\ auto\_delete\_file=\textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_aeb3a963bf458e01aad1860401f63ce04}{on\_model\_save}}(last,\ epoch,\ final\_epoch,\ best\_fitness,\ fi)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00292}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a2ce8c9a7520184309a381b8a42d71d7f}{00292}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a2ce8c9a7520184309a381b8a42d71d7f}{on\_train\_end}}(self,\ last,\ best,\ epoch,\ results):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Callback\ runs\ on\ training\ end,\ i.e.\ saving\ best\ model}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a0adb08913caf8c5d37271b69e548832f}{plots}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ plot\_results(file=self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ \textcolor{stringliteral}{"{}results.csv"{}})\ \ \textcolor{comment}{\#\ save\ results.png}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00296}00296\ \ \ \ \ \ \ \ \ files\ =\ [\textcolor{stringliteral}{"{}results.png"{}},\ \textcolor{stringliteral}{"{}confusion\_matrix.png"{}},\ *(f\textcolor{stringliteral}{"{}\{x\}\_curve.png"{}}\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{"{}F1"{}},\ \textcolor{stringliteral}{"{}PR"{}},\ \textcolor{stringliteral}{"{}P"{}},\ \textcolor{stringliteral}{"{}R"{}}))]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00297}00297\ \ \ \ \ \ \ \ \ files\ =\ [(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files\ \textcolor{keywordflow}{if}\ (self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}}\ /\ f).exists()]\ \ \textcolor{comment}{\#\ filter}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00298}00298\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ac2ddc58314f52965964b16ea58fa749b}{logger}}.info(f\textcolor{stringliteral}{"{}Results\ saved\ to\ \{colorstr('bold',\ self.save\_dir)\}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00299}00299\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:\ \ \textcolor{comment}{\#\ These\ images\ are\ already\ captured\ by\ ClearML\ by\ now,\ we\ don't\ want\ doubles}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a98669091f358dec911adccce346d1f32}{tb}}.add\_image(f.stem,\ cv2.imread(str(f))[...,\ ::-\/1],\ epoch,\ dataformats=\textcolor{stringliteral}{"{}HWC"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(dict(zip(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}}[3:10],\ results)))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.log(\{\textcolor{stringliteral}{"{}Results"{}}:\ [wandb.Image(str(f),\ caption=f.name)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files]\})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Calling\ wandb.log.\ TODO:\ Refactor\ this\ into\ WandbLogger.log\_model}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.evolve:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ wandb.log\_artifact(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ str(best\ \textcolor{keywordflow}{if}\ best.exists()\ \textcolor{keywordflow}{else}\ last),}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ type=\textcolor{stringliteral}{"{}model"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ name=f\textcolor{stringliteral}{"{}run\_\{self.wandb.wandb\_run.id\}\_model"{}},}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aliases=[\textcolor{stringliteral}{"{}latest"{}},\ \textcolor{stringliteral}{"{}best"{}},\ \textcolor{stringliteral}{"{}stripped"{}}],}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.finish\_run()}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00317}00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a303ddee5506ee2d20521518ba96307e6}{opt}}.evolve:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_summary(dict(zip(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}}[3:10],\ results)))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ [self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_plot(title=f.stem,\ plot\_path=f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.log\_model(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ str(best\ \textcolor{keywordflow}{if}\ best.exists()\ \textcolor{keywordflow}{else}\ last),\ \textcolor{stringliteral}{"{}Best\ Model"{}}\ \textcolor{keywordflow}{if}\ best.exists()\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}Last\ Model"{}},\ epoch}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00323}00323\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ final\_results\ =\ dict(zip(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ae3ca67eba946f471d8b0bb04d33c4dfb}{keys}}[3:10],\ results))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a2ce8c9a7520184309a381b8a42d71d7f}{on\_train\_end}}(files,\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_afd74fd73682454e499ec89810069320d}{save\_dir}},\ last,\ best,\ epoch,\ final\_results)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00327}00327\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00328}\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ad6fef0ad51bb82d274d78912eab32775}{00328}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ad6fef0ad51bb82d274d78912eab32775}{on\_params\_update}}(self,\ params:\ dict):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00329}00329\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Update\ hyperparams\ or\ configs\ of\ the\ experiment}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00330}00330\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a536bdf6d4f6a56f639e5747c8532bb18}{wandb}}.wandb\_run.config.update(params,\ allow\_val\_change=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00332}00332\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a8c71fe8914a69e882db037cb35fb3fef}{comet\_logger}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_ad6fef0ad51bb82d274d78912eab32775}{on\_params\_update}}(params)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00334}00334\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_loggers_a23481b4bd4705f9fda488726f96aa0b9}{clearml}}.task.connect(params)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00337}00337\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00338}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger}{00338}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger}{GenericLogger}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00339}00339\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00340}00340\ \textcolor{stringliteral}{\ \ \ \ YOLOv5\ General\ purpose\ logger\ for\ non-\/task\ specific\ logging}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00341}00341\ \textcolor{stringliteral}{\ \ \ \ Usage:\ from\ utils.loggers\ import\ GenericLogger;\ logger\ =\ GenericLogger(...)}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00342}00342\ \textcolor{stringliteral}{\ \ \ \ Arguments}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00343}00343\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ opt:\ \ \ \ \ \ \ \ \ \ \ \ \ Run\ arguments}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00344}00344\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ console\_logger:\ \ Console\ logger}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00345}00345\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ include:\ \ \ \ \ \ \ \ \ loggers\ to\ include}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00346}00346\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00347}00347\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00348}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aa68af511461e4b7fb6e8bba75c4354aa}{00348}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aa68af511461e4b7fb6e8bba75c4354aa}{\_\_init\_\_}}(self,\ opt,\ console\_logger,\ include=(\textcolor{stringliteral}{"{}tb"{}},\ \textcolor{stringliteral}{"{}wandb"{}},\ \textcolor{stringliteral}{"{}clearml"{}})):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00349}00349\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ init\ default\ loggers}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00350}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a36d69af760a8ff93318e761c4342fa22}{00350}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a36d69af760a8ff93318e761c4342fa22}{save\_dir}}\ =\ Path(opt.save\_dir)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00351}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a90ad93aa0de8ef4e6d589c5fece59f96}{00351}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a90ad93aa0de8ef4e6d589c5fece59f96}{include}}\ =\ include}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00352}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aad5efb6c71218aaaf42c02743c6afdc5}{00352}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aad5efb6c71218aaaf42c02743c6afdc5}{console\_logger}}\ =\ console\_logger}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00353}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_abfe30e910a5b79c047f35996f77f7f9a}{00353}}\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_abfe30e910a5b79c047f35996f77f7f9a}{csv}}\ =\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a36d69af760a8ff93318e761c4342fa22}{save\_dir}}\ /\ \textcolor{stringliteral}{"{}results.csv"{}}\ \ \textcolor{comment}{\#\ CSV\ logger}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00354}00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}tb"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a90ad93aa0de8ef4e6d589c5fece59f96}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ prefix\ =\ colorstr(\textcolor{stringliteral}{"{}TensorBoard:\ "{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aad5efb6c71218aaaf42c02743c6afdc5}{console\_logger}}.info(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{prefix\}Start\ with\ 'tensorboard\ -\/-\/logdir\ \{self.save\_dir.parent\}',\ view\ at\ http://localhost:6006/"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00359}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{00359}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}\ =\ SummaryWriter(str(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a36d69af760a8ff93318e761c4342fa22}{save\_dir}}))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00360}00360\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00361}00361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ wandb\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}wandb"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a90ad93aa0de8ef4e6d589c5fece59f96}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00362}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{00362}}\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}\ =\ wandb.init(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ project=\mbox{\hyperlink{namespaceutils_1_1loggers_abc25f8ac12691941f4e1009b4fdaaabe}{web\_project\_name}}(str(opt.project)),\ name=\textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ opt.name\ ==\ \textcolor{stringliteral}{"{}exp"{}}\ \textcolor{keywordflow}{else}\ opt.name,\ config=opt}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00365}00365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00366}00366\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00367}00367\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ clearml\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}clearml"{}}\ \textcolor{keywordflow}{in}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a90ad93aa0de8ef4e6d589c5fece59f96}{include}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Hyp\ is\ not\ available\ in\ classification\ mode}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hyp\ =\ \{\}\ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}hyp"{}}\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ opt\ \textcolor{keywordflow}{else}\ opt.hyp}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00372}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{00372}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}\ =\ \mbox{\hyperlink{classutils_1_1loggers_1_1clearml_1_1clearml__utils_1_1_clearml_logger}{ClearmlLogger}}(opt,\ hyp)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{except}\ Exception:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix\ =\ colorstr(\textcolor{stringliteral}{"{}ClearML:\ "{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LOGGER.warning(}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{prefix\}WARNING\ ⚠️\ ClearML\ is\ installed\ but\ not\ configured,\ skipping\ ClearML\ logging."{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\ See\ https://github.com/ultralytics/yolov5/tree/master/utils/loggers/clearml\#readme"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00380}00380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00382}00382\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00383}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a45fc8f9d8ff94009aa4302b749229e37}{00383}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a45fc8f9d8ff94009aa4302b749229e37}{log\_metrics}}(self,\ metrics,\ epoch):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Log\ metrics\ dictionary\ to\ all\ loggers}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00385}00385\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_abfe30e910a5b79c047f35996f77f7f9a}{csv}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ keys,\ vals\ =\ list(metrics.keys()),\ list(metrics.values())}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ n\ =\ len(metrics)\ +\ 1\ \ \textcolor{comment}{\#\ number\ of\ cols}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00388}00388\ \ \ \ \ \ \ \ \ \ \ \ \ s\ =\ \textcolor{stringliteral}{"{}"{}}\ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_abfe30e910a5b79c047f35996f77f7f9a}{csv}}.exists()\ \textcolor{keywordflow}{else}\ ((\textcolor{stringliteral}{"{}\%23s,"{}}\ *\ n\ \%\ tuple([\textcolor{stringliteral}{"{}epoch"{}}]\ +\ keys)).rstrip(\textcolor{stringliteral}{"{},"{}})\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}})\ \ \textcolor{comment}{\#\ header}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00389}00389\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_abfe30e910a5b79c047f35996f77f7f9a}{csv}},\ \textcolor{stringliteral}{"{}a"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.write(s\ +\ (\textcolor{stringliteral}{"{}\%23.5g,"{}}\ *\ n\ \%\ tuple([epoch]\ +\ vals)).rstrip(\textcolor{stringliteral}{"{},"{}})\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00391}00391\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00392}00392\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ k,\ v\ \textcolor{keywordflow}{in}\ metrics.items():}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}.add\_scalar(k,\ v,\ epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00395}00395\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00396}00396\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}.log(metrics,\ step=epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00398}00398\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00399}00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00400}00400\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}.log\_scalars(metrics,\ epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00401}00401\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00402}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a60e8e1316bbf59bbe4ecfd1a56c78314}{00402}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a60e8e1316bbf59bbe4ecfd1a56c78314}{log\_images}}(self,\ files,\ name="{}Images"{},\ epoch=0):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00403}00403\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Log\ images\ to\ all\ loggers}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00404}00404\ \ \ \ \ \ \ \ \ files\ =\ [Path(f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ (files\ \textcolor{keywordflow}{if}\ isinstance(files,\ (tuple,\ list))\ \textcolor{keywordflow}{else}\ [files])]\ \ \textcolor{comment}{\#\ to\ Path}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00405}00405\ \ \ \ \ \ \ \ \ files\ =\ [f\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files\ \textcolor{keywordflow}{if}\ f.exists()]\ \ \textcolor{comment}{\#\ filter\ by\ exists}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00407}00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}.add\_image(f.stem,\ cv2.imread(str(f))[...,\ ::-\/1],\ epoch,\ dataformats=\textcolor{stringliteral}{"{}HWC"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00410}00410\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00411}00411\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}.log(\{name:\ [wandb.Image(str(f),\ caption=f.name)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files]\},\ step=epoch)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00413}00413\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00414}00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ name\ ==\ \textcolor{stringliteral}{"{}Results"{}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}.log\_plot(f.stem,\ f)\ \textcolor{keywordflow}{for}\ f\ \textcolor{keywordflow}{in}\ files]}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}.log\_debug\_samples(files,\ title=name)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00419}00419\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00420}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_ae1147566cc46c3cace817fcd64f08b34}{00420}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_ae1147566cc46c3cace817fcd64f08b34}{log\_graph}}(self,\ model,\ imgsz=(640,\ 640)):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00421}00421\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Log\ model\ graph\ to\ all\ loggers}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00422}00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutils_1_1loggers_a38b39ba8e751a1d1fb3e03c46efc346c}{log\_tensorboard\_graph}}(self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a451e0f99f3d191c1c764cf9149a1ac28}{tb}},\ model,\ imgsz)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00424}00424\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00425}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a1921b1779c442e5bcc2eaee91a0dafa6}{00425}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a1921b1779c442e5bcc2eaee91a0dafa6}{log\_model}}(self,\ model\_path,\ epoch=0,\ metadata=None):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00426}00426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ metadata\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ metadata\ =\ \{\}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00428}00428\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Log\ model\ to\ all\ loggers}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00429}00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ art\ =\ wandb.Artifact(name=f\textcolor{stringliteral}{"{}run\_\{wandb.run.id\}\_model"{}},\ type=\textcolor{stringliteral}{"{}model"{}},\ metadata=metadata)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ art.add\_file(str(model\_path))}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ wandb.log\_artifact(art)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00433}00433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a1921b1779c442e5bcc2eaee91a0dafa6}{log\_model}}(model\_path=model\_path,\ model\_name=model\_path.stem)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00435}00435\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00436}\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aeeaa0ab7614519b46db0863d6eb2b2e3}{00436}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_aeeaa0ab7614519b46db0863d6eb2b2e3}{update\_params}}(self,\ params):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00437}00437\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Update\ the\ parameters\ logged}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00438}00438\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a57e81741cb12226e198132de3bff94c1}{wandb}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ wandb.run.config.update(params,\ allow\_val\_change=\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00440}00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00441}00441\ \ \ \ \ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classutils_1_1loggers_1_1_generic_logger_a811add1f139058c3f028a14f2e9cf23e}{clearml}}.task.connect(params)}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00442}00442\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00443}00443\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00444}\mbox{\hyperlink{namespaceutils_1_1loggers_a38b39ba8e751a1d1fb3e03c46efc346c}{00444}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceutils_1_1loggers_a38b39ba8e751a1d1fb3e03c46efc346c}{log\_tensorboard\_graph}}(tb,\ model,\ imgsz=(640,\ 640)):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00445}00445\ \ \ \ \ \textcolor{comment}{\#\ Log\ model\ graph\ to\ TensorBoard}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00446}00446\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00447}00447\ \ \ \ \ \ \ \ \ p\ =\ next(model.parameters())\ \ \textcolor{comment}{\#\ for\ device,\ type}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00448}00448\ \ \ \ \ \ \ \ \ imgsz\ =\ (imgsz,\ imgsz)\ \textcolor{keywordflow}{if}\ isinstance(imgsz,\ int)\ \textcolor{keywordflow}{else}\ imgsz\ \ \textcolor{comment}{\#\ expand}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00449}00449\ \ \ \ \ \ \ \ \ im\ =\ torch.zeros((1,\ 3,\ *imgsz)).to(p.device).type\_as(p)\ \ \textcolor{comment}{\#\ input\ image\ (WARNING:\ must\ be\ zeros,\ not\ empty)}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00450}00450\ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ warnings.catch\_warnings():}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ warnings.simplefilter(\textcolor{stringliteral}{"{}ignore"{}})\ \ \textcolor{comment}{\#\ suppress\ jit\ trace\ warning}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ tb.add\_graph(torch.jit.trace(de\_parallel(model),\ im,\ strict=\textcolor{keyword}{False}),\ [])}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00453}00453\ \ \ \ \ \textcolor{keywordflow}{except}\ Exception\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00454}00454\ \ \ \ \ \ \ \ \ LOGGER.warning(f\textcolor{stringliteral}{"{}WARNING\ ⚠️\ TensorBoard\ graph\ visualization\ failure\ \{e\}"{}})}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00455}00455\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00456}00456\ }
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00457}\mbox{\hyperlink{namespaceutils_1_1loggers_abc25f8ac12691941f4e1009b4fdaaabe}{00457}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceutils_1_1loggers_abc25f8ac12691941f4e1009b4fdaaabe}{web\_project\_name}}(project):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00458}00458\ \ \ \ \ \textcolor{comment}{\#\ Convert\ local\ project\ name\ to\ web\ project\ name}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00459}00459\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ project.startswith(\textcolor{stringliteral}{"{}runs/train"{}}):}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00460}00460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ project}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00461}00461\ \ \ \ \ suffix\ =\ \textcolor{stringliteral}{"{}-\/Classify"{}}\ \textcolor{keywordflow}{if}\ project.endswith(\textcolor{stringliteral}{"{}-\/cls"{}})\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}-\/Segment"{}}\ \textcolor{keywordflow}{if}\ project.endswith(\textcolor{stringliteral}{"{}-\/seg"{}})\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{utils_2loggers_2____init_____8py_source_l00462}00462\ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}YOLOv5\{suffix\}"{}}}

\end{DoxyCode}
