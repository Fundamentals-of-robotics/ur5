\doxysection{Inverse\+Differential Class Reference}
\hypertarget{class_inverse_differential}{}\label{class_inverse_differential}\index{InverseDifferential@{InverseDifferential}}


{\ttfamily \#include $<$ur5\+\_\+motion\+\_\+library.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_inverse_differential_ab2911d33514ce3cd8b3f6495a6519edb}{Inverse\+Differential}} (int argc\+\_\+, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}argv\+\_\+)
\item 
bool \mbox{\hyperlink{class_inverse_differential_a0a1560543f7ee702fe14bafa769e290d}{motion\+Planner\+To\+Task\+Planner\+Service\+Response}} (ur5\+::\+Service\+Message\+::\+Request \&req, ur5\+::\+Service\+Message\+::\+Response \&res)
\item 
void \mbox{\hyperlink{class_inverse_differential_a31f22bfe451d12429ebf8485fa2312b1}{send\+\_\+des\+\_\+jstate}} (ros\+::\+Publisher joint\+\_\+pub, Eigen\+::\+Vector\+Xd q\+\_\+des)
\item 
void \mbox{\hyperlink{class_inverse_differential_a9a268808314f3240803c82b044248e02}{receive\+\_\+jstate}} (const sensor\+\_\+msgs\+::\+Joint\+State\+::\+Const\+Ptr \&msg)
\item 
int \mbox{\hyperlink{class_inverse_differential_aa33c717b13ca516b9c8468b6e7870f2d}{talker}} ()
\item 
bool \mbox{\hyperlink{class_inverse_differential_ad153653dc080fc172d2c2ce6068d3f1e}{inv\+Diff}} ()
\item 
Eigen\+::\+Matrix3d \mbox{\hyperlink{class_inverse_differential_ab5efe5a6e5f615e1c95924e9a072811d}{euler\+Angles\+To\+Rotation\+Matrix}} (const Eigen\+::\+Vector3d \&\mbox{\hyperlink{ur5__task__library_8h_a902ea9d67d166f593a8b3631fc1d4b8f}{euler}})
\item 
Eigen\+::\+Vector3d \mbox{\hyperlink{class_inverse_differential_a58f3cfe96b6b5f6cba41668446bcbe16}{rotation\+Matrix\+To\+Euler\+Angles}} (const Eigen\+::\+Matrix3d \&rotation\+Matrix)
\item 
Eigen\+::\+Quaterniond \mbox{\hyperlink{class_inverse_differential_af43d4eb4919d4e723b5da2336f6f5458}{euler\+Angles\+To\+Quaternion}} (const Eigen\+::\+Vector3d \&\mbox{\hyperlink{ur5__task__library_8h_a902ea9d67d166f593a8b3631fc1d4b8f}{euler}})
\item 
Eigen\+::\+Quaterniond \mbox{\hyperlink{class_inverse_differential_a5ba13246ca8c9f3ebcd8e1a7d9ca836c}{rotation\+Matrix\+To\+Quaternion}} (const Eigen\+::\+Matrix3d \&rotation\+Matrix)
\item 
void \mbox{\hyperlink{class_inverse_differential_a7531bfd8ea80634111d35ed51e54416e}{world\+To\+Robot\+Frame}} (Eigen\+::\+Vector3d \&coords, Eigen\+::\+Vector3d \&\mbox{\hyperlink{ur5__task__library_8h_a902ea9d67d166f593a8b3631fc1d4b8f}{euler}})
\item 
void \mbox{\hyperlink{class_inverse_differential_aa22074a716b2eb75b0c215feb94ba856}{ur5\+Direct}} (Eigen\+::\+Vector3d \&xe, Eigen\+::\+Matrix3d \&Re, const Eigen\+::\+Vector\+Xd q\+\_\+des)
\item 
Eigen\+::\+Matrix\+Xd \mbox{\hyperlink{class_inverse_differential_acf950624c6fb514c2a444c857fdac632}{ur5\+Jac}} (Eigen\+::\+Vector\+Xd v)
\item 
list$<$ Eigen\+::\+Vector\+Xd $>$ \mbox{\hyperlink{class_inverse_differential_a32083436e32012e392ddc1d9286e409a}{inv\+Diff\+Kinematic\+Control\+Sim\+Complete\+Quaternion}} (Eigen\+::\+Vector\+Xd TH0, Eigen\+::\+Vector\+Xd T, Eigen\+::\+Matrix3d Kp, Eigen\+::\+Matrix3d Kphi)
\item 
Eigen\+::\+Vector\+Xd \mbox{\hyperlink{class_inverse_differential_ae3f7f21de2aef187ebb68eefb6250a16}{inv\+Diff\+Kinematic\+Control\+Complete\+Quaternion}} (Eigen\+::\+Vector\+Xd qk, Eigen\+::\+Vector3d xe, Eigen\+::\+Vector3d \mbox{\hyperlink{class_inverse_differential_a782ccc9a19761e4c733b8d92b81c7d75}{xd}}, Eigen\+::\+Vector3d vd, Eigen\+::\+Vector3d omegad, Eigen\+::\+Quaterniond qe, Eigen\+::\+Quaterniond \mbox{\hyperlink{class_inverse_differential_a7634212e1417ba684130c575d9433808}{qd}}, Eigen\+::\+Matrix3d Kp, Eigen\+::\+Matrix3d Kphi)
\item 
Eigen\+::\+Vector3d \mbox{\hyperlink{class_inverse_differential_a782ccc9a19761e4c733b8d92b81c7d75}{xd}} (double ti)
\item 
Eigen\+::\+Quaterniond \mbox{\hyperlink{class_inverse_differential_a7634212e1417ba684130c575d9433808}{qd}} (double ti)
\item 
Eigen\+::\+Matrix\+Xd \mbox{\hyperlink{class_inverse_differential_a577d0f75335d43dd3685e08f58ad8de8}{ur5\+Inverse}} (Eigen\+::\+Vector3d \&p60, Eigen\+::\+Matrix3d \&Re)
\item 
Eigen\+::\+Matrix4d \mbox{\hyperlink{class_inverse_differential_ad6abd5dfc09b9cb6dea39b42e26ed8a6}{get\+Rotation\+Matrix}} (double th, double alpha, double d, double a)
\item 
Eigen\+::\+Matrix\+Xd \mbox{\hyperlink{class_inverse_differential_aa640d318bae523fe5c58630bb8601f82}{purge\+Nan\+Column}} (Eigen\+::\+Matrix\+Xd matrix)
\item 
bool \mbox{\hyperlink{class_inverse_differential_adf0094a89d54885e7d6e01bbd8f66e1c}{check\+Work\+Area}} (const Eigen\+::\+Vector3d \&\mbox{\hyperlink{ur5__task__library_8h_a55e78da50a013252924928eaa2720258}{position}})
\item 
bool \mbox{\hyperlink{class_inverse_differential_a298083be41bb82377e2a62458f4167ba}{check\+Work\+Area}} (const Eigen\+::\+Vector\+Xd \&joints)
\item 
void \mbox{\hyperlink{class_inverse_differential_abf7528f33f238e5684332080d8b4584d}{print\+Vector}} (Eigen\+::\+Vector\+Xd v)
\item 
bool \mbox{\hyperlink{class_inverse_differential_abcd806150e519b6df7f1c4f86f6ba646}{almost\+Zero}} (double value)
\item 
void \mbox{\hyperlink{class_inverse_differential_a74bfa9fd20aa08b67528eefcf48558bf}{angle\+Correction}} (double \&angle)
\item 
void \mbox{\hyperlink{class_inverse_differential_a06d4b12c200f5be7b2ad98ac9fd8eef4}{fix\+Wirst\+Joint\+Limits}} (Eigen\+::\+Vector\+Xd \&joints)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{ur5__motion__library_8h_source_l00029}{29}} of file \mbox{\hyperlink{ur5__motion__library_8h_source}{ur5\+\_\+motion\+\_\+library.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_inverse_differential_ab2911d33514ce3cd8b3f6495a6519edb}\label{class_inverse_differential_ab2911d33514ce3cd8b3f6495a6519edb} 
\index{InverseDifferential@{InverseDifferential}!InverseDifferential@{InverseDifferential}}
\index{InverseDifferential@{InverseDifferential}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{InverseDifferential()}{InverseDifferential()}}
{\footnotesize\ttfamily Inverse\+Differential\+::\+Inverse\+Differential (\begin{DoxyParamCaption}\item[{int}]{argc\+\_\+,  }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{argv\+\_\+ }\end{DoxyParamCaption})}

the constructor initializes all the varaibles and starts the motion node 
\begin{DoxyParams}{Parameters}
{\em argc\+\_\+} & the argc of the main \\
\hline
{\em argv\+\_\+} & the argv of the main\\
\hline
\end{DoxyParams}
the file contains the implementation of all functions defined in the ur5\+\_\+inv\+Diff\+\_\+library.\+h file !\texorpdfstring{$<$}{<}the D-\/H parameter

\texorpdfstring{$<$}{<} the D-\/H parameter

\texorpdfstring{$<$}{<} the D-\/H parameter

\texorpdfstring{$<$}{<} rotation matrix to convert the coordinates of the world frame into robot frame

Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00008}{8}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{class_inverse_differential_abcd806150e519b6df7f1c4f86f6ba646}\label{class_inverse_differential_abcd806150e519b6df7f1c4f86f6ba646} 
\index{InverseDifferential@{InverseDifferential}!almostZero@{almostZero}}
\index{almostZero@{almostZero}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{almostZero()}{almostZero()}}
{\footnotesize\ttfamily bool Inverse\+Differential\+::almost\+Zero (\begin{DoxyParamCaption}\item[{double}]{value }\end{DoxyParamCaption})}

function that checks if a value is close to zero


\begin{DoxyParams}{Parameters}
{\em value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the values is close to zero, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00774}{774}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a74bfa9fd20aa08b67528eefcf48558bf}\label{class_inverse_differential_a74bfa9fd20aa08b67528eefcf48558bf} 
\index{InverseDifferential@{InverseDifferential}!angleCorrection@{angleCorrection}}
\index{angleCorrection@{angleCorrection}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{angleCorrection()}{angleCorrection()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::angle\+Correction (\begin{DoxyParamCaption}\item[{double \&}]{angle }\end{DoxyParamCaption})}

function that checks if the angle is close to zero. if so, set the value to zero


\begin{DoxyParams}{Parameters}
{\em angle} & \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00778}{778}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_adf0094a89d54885e7d6e01bbd8f66e1c}\label{class_inverse_differential_adf0094a89d54885e7d6e01bbd8f66e1c} 
\index{InverseDifferential@{InverseDifferential}!checkWorkArea@{checkWorkArea}}
\index{checkWorkArea@{checkWorkArea}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{checkWorkArea()}{checkWorkArea()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Inverse\+Differential\+::check\+Work\+Area (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3d \&}]{position }\end{DoxyParamCaption})}

function that controls if the end effector is inside the working area


\begin{DoxyParams}{Parameters}
{\em position} & the xyz coordinates\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if inside the working area, false otherwise 
\end{DoxyReturn}
\Hypertarget{class_inverse_differential_a298083be41bb82377e2a62458f4167ba}\label{class_inverse_differential_a298083be41bb82377e2a62458f4167ba} 
\index{InverseDifferential@{InverseDifferential}!checkWorkArea@{checkWorkArea}}
\index{checkWorkArea@{checkWorkArea}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{checkWorkArea()}{checkWorkArea()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Inverse\+Differential\+::check\+Work\+Area (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector\+Xd \&}]{joints }\end{DoxyParamCaption})}

function that controls if the given joint configuration, the end effector in inside the working area


\begin{DoxyParams}{Parameters}
{\em joints} & the current joint values of the manipulator\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if inside the working area, false otherwise 
\end{DoxyReturn}
\Hypertarget{class_inverse_differential_af43d4eb4919d4e723b5da2336f6f5458}\label{class_inverse_differential_af43d4eb4919d4e723b5da2336f6f5458} 
\index{InverseDifferential@{InverseDifferential}!eulerAnglesToQuaternion@{eulerAnglesToQuaternion}}
\index{eulerAnglesToQuaternion@{eulerAnglesToQuaternion}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{eulerAnglesToQuaternion()}{eulerAnglesToQuaternion()}}
{\footnotesize\ttfamily Quaterniond Inverse\+Differential\+::euler\+Angles\+To\+Quaternion (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3d \&}]{euler }\end{DoxyParamCaption})}

convert the euler angles in XYZ convention in a quaternion


\begin{DoxyParams}{Parameters}
{\em euler} & vector containing the euler angles in XYZ order\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding quaternion 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00208}{208}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_ab5efe5a6e5f615e1c95924e9a072811d}\label{class_inverse_differential_ab5efe5a6e5f615e1c95924e9a072811d} 
\index{InverseDifferential@{InverseDifferential}!eulerAnglesToRotationMatrix@{eulerAnglesToRotationMatrix}}
\index{eulerAnglesToRotationMatrix@{eulerAnglesToRotationMatrix}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{eulerAnglesToRotationMatrix()}{eulerAnglesToRotationMatrix()}}
{\footnotesize\ttfamily Matrix3d Inverse\+Differential\+::euler\+Angles\+To\+Rotation\+Matrix (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3d \&}]{euler }\end{DoxyParamCaption})}

convert the euler angles in a rotation matrix using the XYZ convention


\begin{DoxyParams}{Parameters}
{\em euler} & vector containing the euler angles in XYZ order\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding rotation matrix 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00227}{227}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a06d4b12c200f5be7b2ad98ac9fd8eef4}\label{class_inverse_differential_a06d4b12c200f5be7b2ad98ac9fd8eef4} 
\index{InverseDifferential@{InverseDifferential}!fixWirstJointLimits@{fixWirstJointLimits}}
\index{fixWirstJointLimits@{fixWirstJointLimits}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{fixWirstJointLimits()}{fixWirstJointLimits()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::fix\+Wirst\+Joint\+Limits (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector\+Xd \&}]{joints }\end{DoxyParamCaption})}

the wirst\textquotesingle{}s joints can reach its limits, given the desired configuration bring back in the valid range the joints values in the range \mbox{[}-\/2pi;2pi\mbox{]}


\begin{DoxyParams}{Parameters}
{\em joints} & the complete joint configuration \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00784}{784}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_ad6abd5dfc09b9cb6dea39b42e26ed8a6}\label{class_inverse_differential_ad6abd5dfc09b9cb6dea39b42e26ed8a6} 
\index{InverseDifferential@{InverseDifferential}!getRotationMatrix@{getRotationMatrix}}
\index{getRotationMatrix@{getRotationMatrix}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{getRotationMatrix()}{getRotationMatrix()}}
{\footnotesize\ttfamily Matrix4d Inverse\+Differential\+::get\+Rotation\+Matrix (\begin{DoxyParamCaption}\item[{double}]{th,  }\item[{double}]{alpha,  }\item[{double}]{d,  }\item[{double}]{a }\end{DoxyParamCaption})}

compute the homogeneous matrix for the computation of the direct kinematic


\begin{DoxyParams}{Parameters}
{\em th} & rotation about z axis \\
\hline
{\em alpha} & rotation about x axis \\
\hline
{\em d} & translation about z axis \\
\hline
{\em a} & translation about x axis\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the homogeneous matrix 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00705}{705}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_ad153653dc080fc172d2c2ce6068d3f1e}\label{class_inverse_differential_ad153653dc080fc172d2c2ce6068d3f1e} 
\index{InverseDifferential@{InverseDifferential}!invDiff@{invDiff}}
\index{invDiff@{invDiff}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{invDiff()}{invDiff()}}
{\footnotesize\ttfamily bool Inverse\+Differential\+::inv\+Diff (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

function called from the talker. given the initial and final pose, compute the trajectory trying to stay away from singularities

\begin{DoxyReturn}{Returns}
true if no problems occured, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00111}{111}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_ae3f7f21de2aef187ebb68eefb6250a16}\label{class_inverse_differential_ae3f7f21de2aef187ebb68eefb6250a16} 
\index{InverseDifferential@{InverseDifferential}!invDiffKinematicControlCompleteQuaternion@{invDiffKinematicControlCompleteQuaternion}}
\index{invDiffKinematicControlCompleteQuaternion@{invDiffKinematicControlCompleteQuaternion}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{invDiffKinematicControlCompleteQuaternion()}{invDiffKinematicControlCompleteQuaternion()}}
{\footnotesize\ttfamily Vector\+Xd Inverse\+Differential\+::inv\+Diff\+Kinematic\+Control\+Complete\+Quaternion (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector\+Xd}]{qk,  }\item[{Eigen\+::\+Vector3d}]{xe,  }\item[{Eigen\+::\+Vector3d}]{xd,  }\item[{Eigen\+::\+Vector3d}]{vd,  }\item[{Eigen\+::\+Vector3d}]{omegad,  }\item[{Eigen\+::\+Quaterniond}]{qe,  }\item[{Eigen\+::\+Quaterniond}]{qd,  }\item[{Eigen\+::\+Matrix3d}]{Kp,  }\item[{Eigen\+::\+Matrix3d}]{Kphi }\end{DoxyParamCaption})}

second of the two functions that generates the trajectory for the robot implements the control for possible singularity using the damped pseudo inverse matrix


\begin{DoxyParams}{Parameters}
{\em qk} & the joint configuration \\
\hline
{\em xe} & the position given from direct kinematic \\
\hline
{\em xd} & the desired velocity at a specific time \\
\hline
{\em vd} & the difference of velocity from the actual and the previous instance of time \\
\hline
{\em omegad} & the difference of orientation from the actual and the previous instance of time \\
\hline
{\em qe} & the rotation matrix from direct kinematic converted in a quaternion \\
\hline
{\em qd} & the desired quaternion at a specific time \\
\hline
{\em Kp} & correction matrix for the velocity component \\
\hline
{\em Kphi} & correction mateix for the orientation component\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the joint velocities 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00385}{385}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a32083436e32012e392ddc1d9286e409a}\label{class_inverse_differential_a32083436e32012e392ddc1d9286e409a} 
\index{InverseDifferential@{InverseDifferential}!invDiffKinematicControlSimCompleteQuaternion@{invDiffKinematicControlSimCompleteQuaternion}}
\index{invDiffKinematicControlSimCompleteQuaternion@{invDiffKinematicControlSimCompleteQuaternion}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{invDiffKinematicControlSimCompleteQuaternion()}{invDiffKinematicControlSimCompleteQuaternion()}}
{\footnotesize\ttfamily list$<$ Vector\+Xd $>$ Inverse\+Differential\+::inv\+Diff\+Kinematic\+Control\+Sim\+Complete\+Quaternion (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector\+Xd}]{TH0,  }\item[{Eigen\+::\+Vector\+Xd}]{T,  }\item[{Eigen\+::\+Matrix3d}]{Kp,  }\item[{Eigen\+::\+Matrix3d}]{Kphi }\end{DoxyParamCaption})}

first of the two functions that generates the trajectory for the robot


\begin{DoxyParams}{Parameters}
{\em TH0} & the initial joint configuration \\
\hline
{\em T} & vector containing the time intervals \\
\hline
{\em Kp} & correction matrix for the velocity component \\
\hline
{\em Kphi} & correction mateix for the orientation component\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a list of joint configuration for each time interval 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00349}{349}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a0a1560543f7ee702fe14bafa769e290d}\label{class_inverse_differential_a0a1560543f7ee702fe14bafa769e290d} 
\index{InverseDifferential@{InverseDifferential}!motionPlannerToTaskPlannerServiceResponse@{motionPlannerToTaskPlannerServiceResponse}}
\index{motionPlannerToTaskPlannerServiceResponse@{motionPlannerToTaskPlannerServiceResponse}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{motionPlannerToTaskPlannerServiceResponse()}{motionPlannerToTaskPlannerServiceResponse()}}
{\footnotesize\ttfamily bool Inverse\+Differential\+::motion\+Planner\+To\+Task\+Planner\+Service\+Response (\begin{DoxyParamCaption}\item[{ur5\+::\+Service\+Message\+::\+Request \&}]{req,  }\item[{ur5\+::\+Service\+Message\+::\+Response \&}]{res }\end{DoxyParamCaption})}

a service that receives the pose in which the robot must arrive and responds if the position has been reached or not


\begin{DoxyParams}{Parameters}
{\em req} & the request message \\
\hline
{\em res} & the response that the service will generate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the motion has been done without problems, false otherwise 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00046}{46}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_abf7528f33f238e5684332080d8b4584d}\label{class_inverse_differential_abf7528f33f238e5684332080d8b4584d} 
\index{InverseDifferential@{InverseDifferential}!printVector@{printVector}}
\index{printVector@{printVector}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{printVector()}{printVector()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::print\+Vector (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector\+Xd}]{v }\end{DoxyParamCaption})}

print the values of a generic vector


\begin{DoxyParams}{Parameters}
{\em v} & vector of doubles \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00767}{767}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_aa640d318bae523fe5c58630bb8601f82}\label{class_inverse_differential_aa640d318bae523fe5c58630bb8601f82} 
\index{InverseDifferential@{InverseDifferential}!purgeNanColumn@{purgeNanColumn}}
\index{purgeNanColumn@{purgeNanColumn}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{purgeNanColumn()}{purgeNanColumn()}}
{\footnotesize\ttfamily Matrix\+Xd Inverse\+Differential\+::purge\+Nan\+Column (\begin{DoxyParamCaption}\item[{Eigen\+::\+Matrix\+Xd}]{matrix }\end{DoxyParamCaption})}

remove all the NON possible solutions from the inverse problem checking if each columns contains at least a NaN value


\begin{DoxyParams}{Parameters}
{\em matrix} & the returned matrix from the ur5\+Inverse function\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a possible resized matrix which doesn\textquotesingle{}t contain non valid solutions 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00721}{721}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a7634212e1417ba684130c575d9433808}\label{class_inverse_differential_a7634212e1417ba684130c575d9433808} 
\index{InverseDifferential@{InverseDifferential}!qd@{qd}}
\index{qd@{qd}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{qd()}{qd()}}
{\footnotesize\ttfamily Quaterniond Inverse\+Differential\+::qd (\begin{DoxyParamCaption}\item[{double}]{ti }\end{DoxyParamCaption})}

implementation of SLERP


\begin{DoxyParams}{Parameters}
{\em ti} & time instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
quaternion corresponding to a rotation 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00439}{439}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a9a268808314f3240803c82b044248e02}\label{class_inverse_differential_a9a268808314f3240803c82b044248e02} 
\index{InverseDifferential@{InverseDifferential}!receive\_jstate@{receive\_jstate}}
\index{receive\_jstate@{receive\_jstate}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{receive\_jstate()}{receive\_jstate()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::receive\+\_\+jstate (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Joint\+State\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}

read the joints values from the topic


\begin{DoxyParams}{Parameters}
{\em msg} & the message received from the topic \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00087}{87}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a58f3cfe96b6b5f6cba41668446bcbe16}\label{class_inverse_differential_a58f3cfe96b6b5f6cba41668446bcbe16} 
\index{InverseDifferential@{InverseDifferential}!rotationMatrixToEulerAngles@{rotationMatrixToEulerAngles}}
\index{rotationMatrixToEulerAngles@{rotationMatrixToEulerAngles}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{rotationMatrixToEulerAngles()}{rotationMatrixToEulerAngles()}}
{\footnotesize\ttfamily Vector3d Inverse\+Differential\+::rotation\+Matrix\+To\+Euler\+Angles (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix3d \&}]{rotation\+Matrix }\end{DoxyParamCaption})}

given the rotation matrix, return the euler angles in XYZ convention


\begin{DoxyParams}{Parameters}
{\em rotation\+Matrix} & the rotation matrix\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the vector containing the euler angles in XYZ order 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00216}{216}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a5ba13246ca8c9f3ebcd8e1a7d9ca836c}\label{class_inverse_differential_a5ba13246ca8c9f3ebcd8e1a7d9ca836c} 
\index{InverseDifferential@{InverseDifferential}!rotationMatrixToQuaternion@{rotationMatrixToQuaternion}}
\index{rotationMatrixToQuaternion@{rotationMatrixToQuaternion}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{rotationMatrixToQuaternion()}{rotationMatrixToQuaternion()}}
{\footnotesize\ttfamily Quaterniond Inverse\+Differential\+::rotation\+Matrix\+To\+Quaternion (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix3d \&}]{rotation\+Matrix }\end{DoxyParamCaption})}

convert the rotation matrix to the corresponding quaternion


\begin{DoxyParams}{Parameters}
{\em rotation\+Matrix} & the rotation matrix\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding quaternion 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00265}{265}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a31f22bfe451d12429ebf8485fa2312b1}\label{class_inverse_differential_a31f22bfe451d12429ebf8485fa2312b1} 
\index{InverseDifferential@{InverseDifferential}!send\_des\_jstate@{send\_des\_jstate}}
\index{send\_des\_jstate@{send\_des\_jstate}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{send\_des\_jstate()}{send\_des\_jstate()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::send\+\_\+des\+\_\+jstate (\begin{DoxyParamCaption}\item[{ros\+::\+Publisher}]{joint\+\_\+pub,  }\item[{Eigen\+::\+Vector\+Xd}]{q\+\_\+des }\end{DoxyParamCaption})}

function that given the joint\textquotesingle{}s configuration, sends it through the topic


\begin{DoxyParams}{Parameters}
{\em joint\+\_\+pub} & the publisher node that is linked to the topic \\
\hline
{\em q\+\_\+des} & the joint\textquotesingle{}s configuration \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00074}{74}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_aa33c717b13ca516b9c8468b6e7870f2d}\label{class_inverse_differential_aa33c717b13ca516b9c8468b6e7870f2d} 
\index{InverseDifferential@{InverseDifferential}!talker@{talker}}
\index{talker@{talker}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{talker()}{talker()}}
{\footnotesize\ttfamily int Inverse\+Differential\+::talker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

main function, initialize nodes, reading and sending the new joint states 

Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00097}{97}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_aa22074a716b2eb75b0c215feb94ba856}\label{class_inverse_differential_aa22074a716b2eb75b0c215feb94ba856} 
\index{InverseDifferential@{InverseDifferential}!ur5Direct@{ur5Direct}}
\index{ur5Direct@{ur5Direct}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{ur5Direct()}{ur5Direct()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::ur5\+Direct (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector3d \&}]{xe,  }\item[{Eigen\+::\+Matrix3d \&}]{Re,  }\item[{const Eigen\+::\+Vector\+Xd}]{q\+\_\+des }\end{DoxyParamCaption})}

given the joints values, return the end effector position and the rotation matrix


\begin{DoxyParams}{Parameters}
{\em xe} & vector containing the end effector position \\
\hline
{\em Re} & matrix corresponding to the orientation of end effector\\
\hline
{\em q\+\_\+des} & the joint values used to calculate the corresponing pose \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00288}{288}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a577d0f75335d43dd3685e08f58ad8de8}\label{class_inverse_differential_a577d0f75335d43dd3685e08f58ad8de8} 
\index{InverseDifferential@{InverseDifferential}!ur5Inverse@{ur5Inverse}}
\index{ur5Inverse@{ur5Inverse}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{ur5Inverse()}{ur5Inverse()}}
{\footnotesize\ttfamily Matrix\+Xd Inverse\+Differential\+::ur5\+Inverse (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector3d \&}]{p60,  }\item[{Eigen\+::\+Matrix3d \&}]{Re }\end{DoxyParamCaption})}

given position and orientation, returns the possible joints\textquotesingle{} configurations


\begin{DoxyParams}{Parameters}
{\em p60} & the desired position \\
\hline
{\em Re} & the desired rotation\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a matrix containing the solutions, saving them in columns order 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00451}{451}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_acf950624c6fb514c2a444c857fdac632}\label{class_inverse_differential_acf950624c6fb514c2a444c857fdac632} 
\index{InverseDifferential@{InverseDifferential}!ur5Jac@{ur5Jac}}
\index{ur5Jac@{ur5Jac}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{ur5Jac()}{ur5Jac()}}
{\footnotesize\ttfamily Matrix\+Xd Inverse\+Differential\+::ur5\+Jac (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector\+Xd}]{v }\end{DoxyParamCaption})}

given the joints values, returns the computed jacobian for the ur5


\begin{DoxyParams}{Parameters}
{\em v} & vector containing the joint\textquotesingle{}s values \\
\hline
\end{DoxyParams}
\texorpdfstring{$<$}{<} the jacobian matrix of the ur5 manipulator

Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00303}{303}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a7531bfd8ea80634111d35ed51e54416e}\label{class_inverse_differential_a7531bfd8ea80634111d35ed51e54416e} 
\index{InverseDifferential@{InverseDifferential}!worldToRobotFrame@{worldToRobotFrame}}
\index{worldToRobotFrame@{worldToRobotFrame}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{worldToRobotFrame()}{worldToRobotFrame()}}
{\footnotesize\ttfamily void Inverse\+Differential\+::world\+To\+Robot\+Frame (\begin{DoxyParamCaption}\item[{Eigen\+::\+Vector3d \&}]{coords,  }\item[{Eigen\+::\+Vector3d \&}]{euler }\end{DoxyParamCaption})}

given the pose of a block in the world frame, return the pose of the same block in the robot frame.

The coordinates and orientation has the same unit of gazebo (in meters and radiants)

Useful when specifing the block pose w.\+r.\+t world frame


\begin{DoxyParams}{Parameters}
{\em coords} & vector containing the xyz coordinates \\
\hline
{\em euler} & vector containing the xyz orientation values \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00271}{271}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.

\Hypertarget{class_inverse_differential_a782ccc9a19761e4c733b8d92b81c7d75}\label{class_inverse_differential_a782ccc9a19761e4c733b8d92b81c7d75} 
\index{InverseDifferential@{InverseDifferential}!xd@{xd}}
\index{xd@{xd}!InverseDifferential@{InverseDifferential}}
\doxysubsubsection{\texorpdfstring{xd()}{xd()}}
{\footnotesize\ttfamily Vector3d Inverse\+Differential\+::xd (\begin{DoxyParamCaption}\item[{double}]{ti }\end{DoxyParamCaption})}

position as a function over time using linear interpolation between 2 points


\begin{DoxyParams}{Parameters}
{\em ti} & time instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
xyz position in a vector 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ur5__motion__library_8cpp_source_l00427}{427}} of file \mbox{\hyperlink{ur5__motion__library_8cpp_source}{ur5\+\_\+motion\+\_\+library.\+cpp}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/ur5/\mbox{\hyperlink{ur5__motion__library_8h}{ur5\+\_\+motion\+\_\+library.\+h}}\item 
src/\mbox{\hyperlink{ur5__motion__library_8cpp}{ur5\+\_\+motion\+\_\+library.\+cpp}}\end{DoxyCompactItemize}
